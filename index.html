<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Simple Scheduler</title>
    <style>
        body {
            font-family: sans-serif;
            background: #ccc;
        }

        .container {
            width: 80%;
            margin: 0 auto;
        }

        /* custom class */
        .scheduler .bar-milestone .bar {
            fill: tomato;
        }

        .heading {
            text-align: center;
        }
    </style>
    <link rel="stylesheet" href="dist/horsa-scheduler.css" />
    <script src="dist/horsa-scheduler.js"></script>
</head>

<body>
    <div class="container">
        <h2 class="heading">Interactive Scheduler Chart entirely made in SVG!</h2>
        <div class="scheduler-target"></div>
    </div>
    <script>
        var tasks = [
            {
                start: '2018-10-01',
                end: '2018-10-08',
                name: 'Redesign website',
                id: "Task 0",
                progress: 20,
                row: 'machine_1',
                resize_left: false,
                resize_right: false,
            },
            {
                start: '2018-10-03',
                end: '2018-10-06',
                name: 'Write new content',
                id: "Task 1",
                progress: 5,
                row: 'machine_3',
            },
            {
                start: '2018-10-04',
                end: '2018-10-08',
                name: 'Apply new styles',
                id: "Task 2",
                progress: 10,
                row: 'machine_2',
            },
            {
                start: '2018-10-08',
                end: '2018-10-09',
                name: 'Review',
                id: "Task 3",
                progress: 5,
                row: 'machine_4',
            },
            {
                start: '2018-10-08',
                end: '2018-10-10',
                name: 'Deploy',
                id: "Task 4",
                progress: 0,
                row: 'machine_5',
            },
            {
                start: '2018-10-11',
                end: '2018-10-11',
                name: 'Go Live!',
                id: "Task 5",
                progress: 0,
                dependencies: 'Task 4',
                row: 'machine_6',
                custom_class: 'bar-milestone'
            }
        ]
        var cells = [
            {
                row: 'machine_1',
                column: 'name',
                value: 'Machine 1'
            },
            {
                row: 'machine_1',
                column: 'description',
                value: 'Machine 1 Desc'
            },
            {
                row: 'machine_3',
                column: 'name',
                value: 'Machine 3'
            },
            {
                row: 'machine_3',
                column: 'description',
                value: 'Machine 3 Desc'
            },
        ]
        var scheduler_chart = new Scheduler(".scheduler-target", tasks, cells, {
            on_task_dblclick: task => {
                console.log(task);
            },
            on_grid_dblclick: (row_id, datetime) => {
                console.log(row_id, datetime);
            },
            on_cell_dblclick: (row_id, col_id) => {
                console.log(row_id, col_id);
            },
            on_position_change: (task, row, start, end) => {
                console.log(task, row, start, end);
            },
            on_progress_change: (task, progress) => {
                console.log(task, progress);
            },
            on_view_change: (mode) => {
                console.log(mode);
            },
            view_mode: 'Day',
            language: 'en',
            resize_left: true,
            resize_right: true,
            drag_drop_x: true,
            drag_drop_y: true,
            overlap: true,
            popup_position: 'left', //or bottom
            date_start: '2018-09-15',
            rows: ['machine_1', 'machine_2', 'machine_3', 'machine_4', 'machine_5', 'machine_6', 'machine_7', 'machine_8', 'machine_9', 'machine_10'],
            fixed_columns: ['name', 'description']
        });
        console.log(scheduler_chart);
    </script>
</body>

</html>
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Gantt</title>
    <link rel="stylesheet" href="dist/frappe-gantt.css"/>
    <script src="dist/frappe-gantt.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background: #ccc;
        }

        .details-container {
            min-width: 250px;
            border: 1px solid #b1b1b1;
            background: #fff;
            display: inline-block;
            padding: 12px;
            h5, p {
                margin: 0;
            }
            h5 {
                font-size: 12px;
                font-weight: bold;
                margin-bottom: 10px;
                color: #555;
            }
            p {
                font-size: 12px;
                margin-bottom: 6px;
                color: #666;
            }
            p:last-child {
                margin-bottom: 0;
            }
        }

        .gantt-container {
            height: 85vh !important;
        }

        .gantt .today-highlight {
            fill: #f5eb91;
        }

        .gantt .tick {
            stroke: #000;
            stroke-width: .1;
        }

        /* custom class */
        .bar-milestone .bar {
            fill: tomato;
        }

        .heading {
            text-align: center;
        }
    </style>
</head>
<body>
<div>
    <h2 class="heading">Interactive Gantt Chart entirely made in SVG!</h2>
    <div id="gantt"></div>
</div>
<script>
    let tasks = [
        {
            id: "Task 0",
            start: '2024-07-01 05:00:00',
            end: '2024-07-01 10:00:00',
            name: 'Redesign website',
            progress: 30
        },
        {
            id: "Task 1",
            start: '2024-07-06',
            // Utilizes duration
            duration: '6d',
            name: 'Write new content',
            progress: 50,
            important: true
        },
        {
            id: "Task 2",
            start: '2024-07-04 00:00:00',
            end: '2024-07-08 05:00:00',
            name: 'Apply new styles',
            progress: 80,
            dependencies: 'Task 1'
        },
        {
            id: "Task 3",
            start: '2024-07-08 12:00:00',
            end: '2024-07-09 18:00:00',
            name: 'Review',
            progress: 20,
            dependencies: 'Task 2'
        },
        {
            id: "Task 4",
            start: '2024-07-08',
            end: '2024-07-10',
            name: 'Deploy',
            progress: 10,
            dependencies: 'Task 2'
        },
        {
            id: "Task 5",
            start: '2024-07-12',
            end: '2024-07-13',
            name: 'Go Live!',
            progress: 0,
            dependencies: 'Task 2',
            custom_class: 'bar-milestone'
        }
    ];

    // Uncomment to test fixed header
    // tasks = [...tasks, ...Array.from({length: tasks.length * 3}, (_, i) => ({...tasks[i % 3], id: i}))]

    let gantt = new Gantt("#gantt", tasks, {
        header_height: 90,
        column_width: 30,
        step: 24,
        view_modes: ["Quarter Day", "Half Day", "Day", "Week", "Month"],
        bar_height: 30,
        bar_corner_radius: 3,
        arrow_curve: 5,
        padding: 18,
        view_mode: "Quarter Day",
        date_format: "YYYY-MM-DD",
        show_expected_progress: false,
        language: 'pt-BR',
        readonly: true,
        scroll_to: 'today',
        lines: 'both',
        auto_move_label: true,
        today_button: true,
        view_mode_select: true,
        popup: function (task) {
            let popup = `
                <div class="details-container">
                    <h5>${task.name}</h5>
                    <p><b>In√≠cio:</b> ${task.start}</p>
                    <p><b>Fim:</b> ${task.end}</p>
                </div>
            `;
            return popup;
        }
    });
</script>
</body>
</html>

var Gantt=function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var e,s,i={exports:{}};(e=i).exports=function(){var s,i;function n(){return s.apply(null,arguments)}function a(t){s=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(h(t,e))return!1;return!0}function d(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function _(t,e){var s,i=[],n=t.length;for(s=0;s<n;++s)i.push(e(t[s],s));return i}function f(t,e){for(var s in e)h(e,s)&&(t[s]=e[s]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,s,i){return Bs(t,e,s,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){return null==t._pf&&(t._pf=g()),t._pf}function y(t){if(null==t._isValid){var e=m(t),s=i.call(e.parsedDateParts,(function(t){return null!=t})),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function w(t){var e=p(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,s=Object(this),i=s.length>>>0;for(e=0;e<i;e++)if(e in s&&t.call(this,s[e],e,s))return!0;return!1};var M=n.momentProperties=[],Y=!1;function v(t,e){var s,i,n,a=M.length;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=m(e)),d(e._locale)||(t._locale=e._locale),a>0)for(s=0;s<a;s++)d(n=e[i=M[s]])||(t[i]=n);return t}function D(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Y&&(Y=!0,n.updateOffset(this),Y=!1)}function k(t){return t instanceof D||null!=t&&null!=t._isAMomentObject}function b(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var s=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),s){var i,a,r,o=[],u=arguments.length;for(a=0;a<u;a++){if(i="","object"==typeof arguments[a]){for(r in i+="\n["+a+"] ",arguments[0])h(arguments[0],r)&&(i+=r+": "+arguments[0][r]+", ");i=i.slice(0,-2)}else i=arguments[a];o.push(i)}b(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),s=!1}return e.apply(this,arguments)}),e)}var j,x={};function O(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),x[t]||(b(e),x[t]=!0)}function T(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function N(t){var e,s;for(s in t)h(t,s)&&(T(e=t[s])?this[s]=e:this["_"+s]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(t,e){var s,i=f({},t);for(s in e)h(e,s)&&(o(t[s])&&o(e[s])?(i[s]={},f(i[s],t[s]),f(i[s],e[s])):null!=e[s]?i[s]=e[s]:delete i[s]);for(s in t)h(t,s)&&!h(e,s)&&o(t[s])&&(i[s]=f({},i[s]));return i}function W(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,j=Object.keys?Object.keys:function(t){var e,s=[];for(e in t)h(t,e)&&s.push(e);return s};var H={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function A(t,e,s){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,s):i}function E(t,e,s){var i=""+Math.abs(t),n=e-i.length;return(t>=0?s?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+i}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$={},R={};function F(t,e,s,i){var n=i;"string"==typeof i&&(n=function(){return this[i]()}),t&&(R[t]=n),e&&(R[e[0]]=function(){return E(n.apply(this,arguments),e[1],e[2])}),s&&(R[s]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,s,i=t.match(P);for(e=0,s=i.length;e<s;e++)R[i[e]]?i[e]=R[i[e]]:i[e]=U(i[e]);return function(e){var n,a="";for(n=0;n<s;n++)a+=T(i[n])?i[n].call(e,t):i[n];return a}}function G(t,e){return t.isValid()?(e=I(e,t.localeData()),$[e]=$[e]||V(e),$[e](t)):t.localeData().invalidDate()}function I(t,e){var s=5;function i(t){return e.longDateFormat(t)||t}for(C.lastIndex=0;s>=0&&C.test(t);)t=t.replace(C,i),C.lastIndex=0,s-=1;return t}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.match(P).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var B="Invalid date";function J(){return this._invalidDate}var q="%d",X=/\d{1,2}/;function Q(t){return this._ordinal.replace("%d",t)}var K={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,s,i){var n=this._relativeTime[s];return T(n)?n(t,e,s,i):n.replace(/%d/i,t)}function et(t,e){var s=this._relativeTime[t>0?"future":"past"];return T(s)?s(e):s.replace(/%s/i,e)}var st={};function it(t,e){var s=t.toLowerCase();st[s]=st[s+"s"]=st[e]=t}function nt(t){return"string"==typeof t?st[t]||st[t.toLowerCase()]:void 0}function at(t){var e,s,i={};for(s in t)h(t,s)&&(e=nt(s))&&(i[e]=t[s]);return i}var rt={};function ot(t,e){rt[t]=e}function ht(t){var e,s=[];for(e in t)h(t,e)&&s.push({unit:e,priority:rt[e]});return s.sort((function(t,e){return t.priority-e.priority})),s}function ut(t){return t%4==0&&t%100!=0||t%400==0}function dt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,s=0;return 0!==e&&isFinite(e)&&(s=dt(e)),s}function ct(t,e){return function(s){return null!=s?(ft(this,t,s),n.updateOffset(this,e),this):_t(this,t)}}function _t(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ft(t,e,s){t.isValid()&&!isNaN(s)&&("FullYear"===e&&ut(t.year())&&1===t.month()&&29===t.date()?(s=lt(s),t._d["set"+(t._isUTC?"UTC":"")+e](s,t.month(),te(s,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](s))}function pt(t){return T(this[t=nt(t)])?this[t]():this}function gt(t,e){if("object"==typeof t){var s,i=ht(t=at(t)),n=i.length;for(s=0;s<n;s++)this[i[s].unit](t[i[s].unit])}else if(T(this[t=nt(t)]))return this[t](e);return this}var mt,yt=/\d/,wt=/\d\d/,Mt=/\d{3}/,Yt=/\d{4}/,vt=/[+-]?\d{6}/,Dt=/\d\d?/,kt=/\d\d\d\d?/,bt=/\d\d\d\d\d\d?/,St=/\d{1,3}/,jt=/\d{1,4}/,xt=/[+-]?\d{1,6}/,Ot=/\d+/,Tt=/[+-]?\d+/,Nt=/Z|[+-]\d\d:?\d\d/gi,Lt=/Z|[+-]\d\d(?::?\d\d)?/gi,Wt=/[+-]?\d+(\.\d{1,3})?/,Ht=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function At(t,e,s){mt[t]=T(e)?e:function(t,i){return t&&s?s:e}}function Et(t,e){return h(mt,t)?mt[t](e._strict,e._locale):new RegExp(Pt(t))}function Pt(t){return Ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,s,i,n){return e||s||i||n})))}function Ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}mt={};var $t={};function Rt(t,e){var s,i,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,s){s[e]=lt(t)}),i=t.length,s=0;s<i;s++)$t[t[s]]=n}function Ft(t,e){Rt(t,(function(t,s,i,n){i._w=i._w||{},e(t,i._w,i,n)}))}function Ut(t,e,s){null!=e&&h($t,t)&&$t[t](e,s._a,s,t)}var Vt,Gt=0,It=1,zt=2,Zt=3,Bt=4,Jt=5,qt=6,Xt=7,Qt=8;function Kt(t,e){return(t%e+e)%e}function te(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=Kt(e,12);return t+=(e-s)/12,1===s?ut(t)?29:28:31-s%7%2}Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),F("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),it("month","M"),ot("month",8),At("M",Dt),At("MM",Dt,wt),At("MMM",(function(t,e){return e.monthsShortRegex(t)})),At("MMMM",(function(t,e){return e.monthsRegex(t)})),Rt(["M","MM"],(function(t,e){e[It]=lt(t)-1})),Rt(["MMM","MMMM"],(function(t,e,s,i){var n=s._locale.monthsParse(t,i,s._strict);null!=n?e[It]=n:m(s).invalidMonth=t}));var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ne=Ht,ae=Ht;function re(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ie).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone}function oe(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ie.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function he(t,e,s){var i,n,a,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return s?"MMM"===e?-1!==(n=Vt.call(this._shortMonthsParse,r))?n:null:-1!==(n=Vt.call(this._longMonthsParse,r))?n:null:"MMM"===e?-1!==(n=Vt.call(this._shortMonthsParse,r))||-1!==(n=Vt.call(this._longMonthsParse,r))?n:null:-1!==(n=Vt.call(this._longMonthsParse,r))||-1!==(n=Vt.call(this._shortMonthsParse,r))?n:null}function ue(t,e,s){var i,n,a;if(this._monthsParseExact)return he.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(n=p([2e3,i]),s&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),s||this._monthsParse[i]||(a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),s&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(s&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!s&&this._monthsParse[i].test(t))return i}}function de(t,e){var s;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=lt(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return s=Math.min(t.date(),te(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,s),t}function le(t){return null!=t?(de(this,t),n.updateOffset(this,!0),this):_t(this,"Month")}function ce(){return te(this.year(),this.month())}function _e(t){return this._monthsParseExact?(h(this,"_monthsRegex")||pe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(t){return this._monthsParseExact?(h(this,"_monthsRegex")||pe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=ae),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pe(){function t(t,e){return e.length-t.length}var e,s,i=[],n=[],a=[];for(e=0;e<12;e++)s=p([2e3,e]),i.push(this.monthsShort(s,"")),n.push(this.months(s,"")),a.push(this.months(s,"")),a.push(this.monthsShort(s,""));for(i.sort(t),n.sort(t),a.sort(t),e=0;e<12;e++)i[e]=Ct(i[e]),n[e]=Ct(n[e]);for(e=0;e<24;e++)a[e]=Ct(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(t){return ut(t)?366:365}F("Y",0,0,(function(){var t=this.year();return t<=9999?E(t,4):"+"+t})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),it("year","y"),ot("year",1),At("Y",Tt),At("YY",Dt,wt),At("YYYY",jt,Yt),At("YYYYY",xt,vt),At("YYYYYY",xt,vt),Rt(["YYYYY","YYYYYY"],Gt),Rt("YYYY",(function(t,e){e[Gt]=2===t.length?n.parseTwoDigitYear(t):lt(t)})),Rt("YY",(function(t,e){e[Gt]=n.parseTwoDigitYear(t)})),Rt("Y",(function(t,e){e[Gt]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var me=ct("FullYear",!0);function ye(){return ut(this.year())}function we(t,e,s,i,n,a,r){var o;return t<100&&t>=0?(o=new Date(t+400,e,s,i,n,a,r),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,s,i,n,a,r),o}function Me(t){var e,s;return t<100&&t>=0?((s=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ye(t,e,s){var i=7+e-s;return-(7+Me(t,0,i).getUTCDay()-e)%7+i-1}function ve(t,e,s,i,n){var a,r,o=1+7*(e-1)+(7+s-i)%7+Ye(t,i,n);return o<=0?r=ge(a=t-1)+o:o>ge(t)?(a=t+1,r=o-ge(t)):(a=t,r=o),{year:a,dayOfYear:r}}function De(t,e,s){var i,n,a=Ye(t.year(),e,s),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return r<1?i=r+ke(n=t.year()-1,e,s):r>ke(t.year(),e,s)?(i=r-ke(t.year(),e,s),n=t.year()+1):(n=t.year(),i=r),{week:i,year:n}}function ke(t,e,s){var i=Ye(t,e,s),n=Ye(t+1,e,s);return(ge(t)-i+n)/7}function be(t){return De(t,this._week.dow,this._week.doy).week}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),it("week","w"),it("isoWeek","W"),ot("week",5),ot("isoWeek",5),At("w",Dt),At("ww",Dt,wt),At("W",Dt),At("WW",Dt,wt),Ft(["w","ww","W","WW"],(function(t,e,s,i){e[i.substr(0,1)]=lt(t)}));var Se={dow:0,doy:6};function je(){return this._week.dow}function xe(){return this._week.doy}function Oe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Te(t){var e=De(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ne(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Le(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function We(t,e){return t.slice(e,7).concat(t.slice(0,e))}F("d",0,"do","day"),F("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),F("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),F("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),it("day","d"),it("weekday","e"),it("isoWeekday","E"),ot("day",11),ot("weekday",11),ot("isoWeekday",11),At("d",Dt),At("e",Dt),At("E",Dt),At("dd",(function(t,e){return e.weekdaysMinRegex(t)})),At("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),At("dddd",(function(t,e){return e.weekdaysRegex(t)})),Ft(["dd","ddd","dddd"],(function(t,e,s,i){var n=s._locale.weekdaysParse(t,i,s._strict);null!=n?e.d=n:m(s).invalidWeekday=t})),Ft(["d","e","E"],(function(t,e,s,i){e[i]=lt(t)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ee="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pe=Ht,Ce=Ht,$e=Ht;function Re(t,e){var s=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?We(s,this._week.dow):t?s[t.day()]:s}function Fe(t){return!0===t?We(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ue(t){return!0===t?We(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ve(t,e,s){var i,n,a,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return s?"dddd"===e?-1!==(n=Vt.call(this._weekdaysParse,r))?n:null:"ddd"===e?-1!==(n=Vt.call(this._shortWeekdaysParse,r))?n:null:-1!==(n=Vt.call(this._minWeekdaysParse,r))?n:null:"dddd"===e?-1!==(n=Vt.call(this._weekdaysParse,r))||-1!==(n=Vt.call(this._shortWeekdaysParse,r))||-1!==(n=Vt.call(this._minWeekdaysParse,r))?n:null:"ddd"===e?-1!==(n=Vt.call(this._shortWeekdaysParse,r))||-1!==(n=Vt.call(this._weekdaysParse,r))||-1!==(n=Vt.call(this._minWeekdaysParse,r))?n:null:-1!==(n=Vt.call(this._minWeekdaysParse,r))||-1!==(n=Vt.call(this._weekdaysParse,r))||-1!==(n=Vt.call(this._shortWeekdaysParse,r))?n:null}function Ge(t,e,s){var i,n,a;if(this._weekdaysParseExact)return Ve.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(n=p([2e3,1]).day(i),s&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),s&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(s&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(s&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!s&&this._weekdaysParse[i].test(t))return i}}function Ie(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ne(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ze(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Le(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Be(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Pe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Je(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ce),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qe(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xe(){function t(t,e){return e.length-t.length}var e,s,i,n,a,r=[],o=[],h=[],u=[];for(e=0;e<7;e++)s=p([2e3,1]).day(e),i=Ct(this.weekdaysMin(s,"")),n=Ct(this.weekdaysShort(s,"")),a=Ct(this.weekdays(s,"")),r.push(i),o.push(n),h.push(a),u.push(i),u.push(n),u.push(a);r.sort(t),o.sort(t),h.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ke(){return this.hours()||24}function ts(t,e){F(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function es(t,e){return e._meridiemParse}function ss(t){return"p"===(t+"").toLowerCase().charAt(0)}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Qe),F("k",["kk",2],0,Ke),F("hmm",0,0,(function(){return""+Qe.apply(this)+E(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+Qe.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+E(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)})),ts("a",!0),ts("A",!1),it("hour","h"),ot("hour",13),At("a",es),At("A",es),At("H",Dt),At("h",Dt),At("k",Dt),At("HH",Dt,wt),At("hh",Dt,wt),At("kk",Dt,wt),At("hmm",kt),At("hmmss",bt),At("Hmm",kt),At("Hmmss",bt),Rt(["H","HH"],Zt),Rt(["k","kk"],(function(t,e,s){var i=lt(t);e[Zt]=24===i?0:i})),Rt(["a","A"],(function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t})),Rt(["h","hh"],(function(t,e,s){e[Zt]=lt(t),m(s).bigHour=!0})),Rt("hmm",(function(t,e,s){var i=t.length-2;e[Zt]=lt(t.substr(0,i)),e[Bt]=lt(t.substr(i)),m(s).bigHour=!0})),Rt("hmmss",(function(t,e,s){var i=t.length-4,n=t.length-2;e[Zt]=lt(t.substr(0,i)),e[Bt]=lt(t.substr(i,2)),e[Jt]=lt(t.substr(n)),m(s).bigHour=!0})),Rt("Hmm",(function(t,e,s){var i=t.length-2;e[Zt]=lt(t.substr(0,i)),e[Bt]=lt(t.substr(i))})),Rt("Hmmss",(function(t,e,s){var i=t.length-4,n=t.length-2;e[Zt]=lt(t.substr(0,i)),e[Bt]=lt(t.substr(i,2)),e[Jt]=lt(t.substr(n))}));var is=/[ap]\.?m?\.?/i,ns=ct("Hours",!0);function as(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"}var rs,os={calendar:H,longDateFormat:z,invalidDate:B,ordinal:q,dayOfMonthOrdinalParse:X,relativeTime:K,months:ee,monthsShort:se,week:Se,weekdays:He,weekdaysMin:Ee,weekdaysShort:Ae,meridiemParse:is},hs={},us={};function ds(t,e){var s,i=Math.min(t.length,e.length);for(s=0;s<i;s+=1)if(t[s]!==e[s])return s;return i}function ls(t){return t?t.toLowerCase().replace("_","-"):t}function cs(t){for(var e,s,i,n,a=0;a<t.length;){for(e=(n=ls(t[a]).split("-")).length,s=(s=ls(t[a+1]))?s.split("-"):null;e>0;){if(i=fs(n.slice(0,e).join("-")))return i;if(s&&s.length>=e&&ds(n,s)>=e-1)break;e--}a++}return rs}function _s(t){return null!=t.match("^[^/\\\\]*$")}function fs(s){var i=null;if(void 0===hs[s]&&e&&e.exports&&_s(s))try{i=rs._abbr,t("./locale/"+s),ps(i)}catch(t){hs[s]=null}return hs[s]}function ps(t,e){var s;return t&&((s=d(e)?ys(t):gs(t,e))?rs=s:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),rs._abbr}function gs(t,e){if(null!==e){var s,i=os;if(e.abbr=t,null!=hs[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=hs[t]._config;else if(null!=e.parentLocale)if(null!=hs[e.parentLocale])i=hs[e.parentLocale]._config;else{if(null==(s=fs(e.parentLocale)))return us[e.parentLocale]||(us[e.parentLocale]=[]),us[e.parentLocale].push({name:t,config:e}),null;i=s._config}return hs[t]=new W(L(i,e)),us[t]&&us[t].forEach((function(t){gs(t.name,t.config)})),ps(t),hs[t]}return delete hs[t],null}function ms(t,e){if(null!=e){var s,i,n=os;null!=hs[t]&&null!=hs[t].parentLocale?hs[t].set(L(hs[t]._config,e)):(null!=(i=fs(t))&&(n=i._config),e=L(n,e),null==i&&(e.abbr=t),(s=new W(e)).parentLocale=hs[t],hs[t]=s),ps(t)}else null!=hs[t]&&(null!=hs[t].parentLocale?(hs[t]=hs[t].parentLocale,t===ps()&&ps(t)):null!=hs[t]&&delete hs[t]);return hs[t]}function ys(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return rs;if(!r(t)){if(e=fs(t))return e;t=[t]}return cs(t)}function ws(){return j(hs)}function Ms(t){var e,s=t._a;return s&&-2===m(t).overflow&&(e=s[It]<0||s[It]>11?It:s[zt]<1||s[zt]>te(s[Gt],s[It])?zt:s[Zt]<0||s[Zt]>24||24===s[Zt]&&(0!==s[Bt]||0!==s[Jt]||0!==s[qt])?Zt:s[Bt]<0||s[Bt]>59?Bt:s[Jt]<0||s[Jt]>59?Jt:s[qt]<0||s[qt]>999?qt:-1,m(t)._overflowDayOfYear&&(e<Gt||e>zt)&&(e=zt),m(t)._overflowWeeks&&-1===e&&(e=Xt),m(t)._overflowWeekday&&-1===e&&(e=Qt),m(t).overflow=e),t}var Ys=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ds=/Z|[+-]\d\d(?::?\d\d)?/,ks=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ss=/^\/?Date\((-?\d+)/i,js=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xs={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Os(t){var e,s,i,n,a,r,o=t._i,h=Ys.exec(o)||vs.exec(o),u=ks.length,d=bs.length;if(h){for(m(t).iso=!0,e=0,s=u;e<s;e++)if(ks[e][1].exec(h[1])){n=ks[e][0],i=!1!==ks[e][2];break}if(null==n)return void(t._isValid=!1);if(h[3]){for(e=0,s=d;e<s;e++)if(bs[e][1].exec(h[3])){a=(h[2]||" ")+bs[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(h[4]){if(!Ds.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(a||"")+(r||""),Fs(t)}else t._isValid=!1}function Ts(t,e,s,i,n,a){var r=[Ns(t),se.indexOf(e),parseInt(s,10),parseInt(i,10),parseInt(n,10)];return a&&r.push(parseInt(a,10)),r}function Ns(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ls(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ws(t,e,s){return!t||Ae.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(s).weekdayMismatch=!0,s._isValid=!1,!1)}function Hs(t,e,s){if(t)return xs[t];if(e)return 0;var i=parseInt(s,10),n=i%100;return(i-n)/100*60+n}function As(t){var e,s=js.exec(Ls(t._i));if(s){if(e=Ts(s[4],s[3],s[2],s[5],s[6],s[7]),!Ws(s[1],e,t))return;t._a=e,t._tzm=Hs(s[8],s[9],s[10]),t._d=Me.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function Es(t){var e=Ss.exec(t._i);null===e?(Os(t),!1===t._isValid&&(delete t._isValid,As(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Ps(t,e,s){return null!=t?t:null!=e?e:s}function Cs(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $s(t){var e,s,i,n,a,r=[];if(!t._d){for(i=Cs(t),t._w&&null==t._a[zt]&&null==t._a[It]&&Rs(t),null!=t._dayOfYear&&(a=Ps(t._a[Gt],i[Gt]),(t._dayOfYear>ge(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),s=Me(a,0,t._dayOfYear),t._a[It]=s.getUTCMonth(),t._a[zt]=s.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Zt]&&0===t._a[Bt]&&0===t._a[Jt]&&0===t._a[qt]&&(t._nextDay=!0,t._a[Zt]=0),t._d=(t._useUTC?Me:we).apply(null,r),n=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Zt]=24),t._w&&void 0!==t._w.d&&t._w.d!==n&&(m(t).weekdayMismatch=!0)}}function Rs(t){var e,s,i,n,a,r,o,h,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,r=4,s=Ps(e.GG,t._a[Gt],De(Js(),1,4).year),i=Ps(e.W,1),((n=Ps(e.E,1))<1||n>7)&&(h=!0)):(a=t._locale._week.dow,r=t._locale._week.doy,u=De(Js(),a,r),s=Ps(e.gg,t._a[Gt],u.year),i=Ps(e.w,u.week),null!=e.d?((n=e.d)<0||n>6)&&(h=!0):null!=e.e?(n=e.e+a,(e.e<0||e.e>6)&&(h=!0)):n=a),i<1||i>ke(s,a,r)?m(t)._overflowWeeks=!0:null!=h?m(t)._overflowWeekday=!0:(o=ve(s,i,n,a,r),t._a[Gt]=o.year,t._dayOfYear=o.dayOfYear)}function Fs(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],m(t).empty=!0;var e,s,i,a,r,o,h,u=""+t._i,d=u.length,l=0;for(h=(i=I(t._f,t._locale).match(P)||[]).length,e=0;e<h;e++)a=i[e],(s=(u.match(Et(a,t))||[])[0])&&((r=u.substr(0,u.indexOf(s))).length>0&&m(t).unusedInput.push(r),u=u.slice(u.indexOf(s)+s.length),l+=s.length),R[a]?(s?m(t).empty=!1:m(t).unusedTokens.push(a),Ut(a,s,t)):t._strict&&!s&&m(t).unusedTokens.push(a);m(t).charsLeftOver=d-l,u.length>0&&m(t).unusedInput.push(u),t._a[Zt]<=12&&!0===m(t).bigHour&&t._a[Zt]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[Zt]=Us(t._locale,t._a[Zt],t._meridiem),null!==(o=m(t).era)&&(t._a[Gt]=t._locale.erasConvertYear(o,t._a[Gt])),$s(t),Ms(t)}else As(t);else Os(t)}function Us(t,e,s){var i;return null==s?e:null!=t.meridiemHour?t.meridiemHour(e,s):null!=t.isPM?((i=t.isPM(s))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Vs(t){var e,s,i,n,a,r,o=!1,h=t._f.length;if(0===h)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<h;n++)a=0,r=!1,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Fs(e),y(e)&&(r=!0),a+=m(e).charsLeftOver,a+=10*m(e).unusedTokens.length,m(e).score=a,o?a<i&&(i=a,s=e):(null==i||a<i||r)&&(i=a,s=e,r&&(o=!0));f(t,s||e)}function Gs(t){if(!t._d){var e=at(t._i),s=void 0===e.day?e.date:e.day;t._a=_([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),$s(t)}}function Is(t){var e=new D(Ms(zs(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function zs(t){var e=t._i,s=t._f;return t._locale=t._locale||ys(t._l),null===e||void 0===s&&""===e?w({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new D(Ms(e)):(c(e)?t._d=e:r(s)?Vs(t):s?Fs(t):Zs(t),y(t)||(t._d=null),t))}function Zs(t){var e=t._i;d(e)?t._d=new Date(n.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Es(t):r(e)?(t._a=_(e.slice(0),(function(t){return parseInt(t,10)})),$s(t)):o(e)?Gs(t):l(e)?t._d=new Date(e):n.createFromInputFallback(t)}function Bs(t,e,s,i,n){var a={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==s&&!1!==s||(i=s,s=void 0),(o(t)&&u(t)||r(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=n,a._l=s,a._i=t,a._f=e,a._strict=i,Is(a)}function Js(t,e,s,i){return Bs(t,e,s,i,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var qs=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Js.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:w()})),Xs=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Js.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:w()}));function Qs(t,e){var s,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Js();for(s=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](s)||(s=e[i]);return s}function Ks(){return Qs("isBefore",[].slice.call(arguments,0))}function ti(){return Qs("isAfter",[].slice.call(arguments,0))}var ei=function(){return Date.now?Date.now():+new Date},si=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(t){var e,s,i=!1,n=si.length;for(e in t)if(h(t,e)&&(-1===Vt.call(si,e)||null!=t[e]&&isNaN(t[e])))return!1;for(s=0;s<n;++s)if(t[si[s]]){if(i)return!1;parseFloat(t[si[s]])!==lt(t[si[s]])&&(i=!0)}return!0}function ni(){return this._isValid}function ai(){return xi(NaN)}function ri(t){var e=at(t),s=e.year||0,i=e.quarter||0,n=e.month||0,a=e.week||e.isoWeek||0,r=e.day||0,o=e.hour||0,h=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=ii(e),this._milliseconds=+d+1e3*u+6e4*h+1e3*o*60*60,this._days=+r+7*a,this._months=+n+3*i+12*s,this._data={},this._locale=ys(),this._bubble()}function oi(t){return t instanceof ri}function hi(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ui(t,e,s){var i,n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(i=0;i<n;i++)(s&&t[i]!==e[i]||!s&&lt(t[i])!==lt(e[i]))&&r++;return r+a}function di(t,e){F(t,0,0,(function(){var t=this.utcOffset(),s="+";return t<0&&(t=-t,s="-"),s+E(~~(t/60),2)+e+E(~~t%60,2)}))}di("Z",":"),di("ZZ",""),At("Z",Lt),At("ZZ",Lt),Rt(["Z","ZZ"],(function(t,e,s){s._useUTC=!0,s._tzm=ci(Lt,t)}));var li=/([\+\-]|\d\d)/gi;function ci(t,e){var s,i,n=(e||"").match(t);return null===n?null:0===(i=60*(s=((n[n.length-1]||[])+"").match(li)||["-",0,0])[1]+lt(s[2]))?0:"+"===s[0]?i:-i}function _i(t,e){var s,i;return e._isUTC?(s=e.clone(),i=(k(t)||c(t)?t.valueOf():Js(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),n.updateOffset(s,!1),s):Js(t).local()}function fi(t){return-Math.round(t._d.getTimezoneOffset())}function pi(t,e,s){var i,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ci(Lt,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&e&&(i=fi(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!e||this._changeInProgress?Wi(this,xi(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fi(this)}function gi(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function mi(t){return this.utcOffset(0,t)}function yi(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fi(this),"m")),this}function wi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ci(Nt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Mi(t){return!!this.isValid()&&(t=t?Js(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Yi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vi(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t,e={};return v(e,this),(e=zs(e))._a?(t=e._isUTC?p(e._a):Js(e._a),this._isDSTShifted=this.isValid()&&ui(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Di(){return!!this.isValid()&&!this._isUTC}function ki(){return!!this.isValid()&&this._isUTC}function bi(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Si=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ji=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xi(t,e){var s,i,n,a=t,r=null;return oi(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(a={},e?a[e]=+t:a.milliseconds=+t):(r=Si.exec(t))?(s="-"===r[1]?-1:1,a={y:0,d:lt(r[zt])*s,h:lt(r[Zt])*s,m:lt(r[Bt])*s,s:lt(r[Jt])*s,ms:lt(hi(1e3*r[qt]))*s}):(r=ji.exec(t))?(s="-"===r[1]?-1:1,a={y:Oi(r[2],s),M:Oi(r[3],s),w:Oi(r[4],s),d:Oi(r[5],s),h:Oi(r[6],s),m:Oi(r[7],s),s:Oi(r[8],s)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(n=Ni(Js(a.from),Js(a.to)),(a={}).ms=n.milliseconds,a.M=n.months),i=new ri(a),oi(t)&&h(t,"_locale")&&(i._locale=t._locale),oi(t)&&h(t,"_isValid")&&(i._isValid=t._isValid),i}function Oi(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function Ti(t,e){var s={};return s.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function Ni(t,e){var s;return t.isValid()&&e.isValid()?(e=_i(e,t),t.isBefore(e)?s=Ti(t,e):((s=Ti(e,t)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Li(t,e){return function(s,i){var n;return null===i||isNaN(+i)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=s,s=i,i=n),Wi(this,xi(s,i),t),this}}function Wi(t,e,s,i){var a=e._milliseconds,r=hi(e._days),o=hi(e._months);t.isValid()&&(i=null==i||i,o&&de(t,_t(t,"Month")+o*s),r&&ft(t,"Date",_t(t,"Date")+r*s),a&&t._d.setTime(t._d.valueOf()+a*s),i&&n.updateOffset(t,r||o))}xi.fn=ri.prototype,xi.invalid=ai;var Hi=Li(1,"add"),Ai=Li(-1,"subtract");function Ei(t){return"string"==typeof t||t instanceof String}function Pi(t){return k(t)||c(t)||Ei(t)||l(t)||$i(t)||Ci(t)||null==t}function Ci(t){var e,s,i=o(t)&&!u(t),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r=a.length;for(e=0;e<r;e+=1)s=a[e],n=n||h(t,s);return i&&n}function $i(t){var e=r(t),s=!1;return e&&(s=0===t.filter((function(e){return!l(e)&&Ei(t)})).length),e&&s}function Ri(t){var e,s,i=o(t)&&!u(t),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<a.length;e+=1)s=a[e],n=n||h(t,s);return i&&n}function Fi(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Ui(t,e){1===arguments.length&&(arguments[0]?Pi(arguments[0])?(t=arguments[0],e=void 0):Ri(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var s=t||Js(),i=_i(s,this).startOf("day"),a=n.calendarFormat(this,i)||"sameElse",r=e&&(T(e[a])?e[a].call(this,s):e[a]);return this.format(r||this.localeData().calendar(a,this,Js(s)))}function Vi(){return new D(this)}function Gi(t,e){var s=k(t)?t:Js(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf())}function Ii(t,e){var s=k(t)?t:Js(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf())}function zi(t,e,s,i){var n=k(t)?t:Js(t),a=k(e)?e:Js(e);return!!(this.isValid()&&n.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(n,s):!this.isBefore(n,s))&&(")"===i[1]?this.isBefore(a,s):!this.isAfter(a,s))}function Zi(t,e){var s,i=k(t)?t:Js(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf()))}function Bi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ji(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qi(t,e,s){var i,n,a;if(!this.isValid())return NaN;if(!(i=_i(t,this)).isValid())return NaN;switch(n=6e4*(i.utcOffset()-this.utcOffset()),e=nt(e)){case"year":a=Xi(this,i)/12;break;case"month":a=Xi(this,i);break;case"quarter":a=Xi(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-n)/864e5;break;case"week":a=(this-i-n)/6048e5;break;default:a=this-i}return s?a:dt(a)}function Xi(t,e){if(t.date()<e.date())return-Xi(e,t);var s=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(s,"months");return-(s+(e-i<0?(e-i)/(i-t.clone().add(s-1,"months")):(e-i)/(t.clone().add(s+1,"months")-i)))||0}function Qi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ki(t){if(!this.isValid())return null;var e=!0!==t,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?G(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(s,"Z")):G(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,s,i,n="moment",a="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=a+'[")]',this.format(t+e+s+i)}function en(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)}function sn(t,e){return this.isValid()&&(k(t)&&t.isValid()||Js(t).isValid())?xi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function nn(t){return this.from(Js(),t)}function an(t,e){return this.isValid()&&(k(t)&&t.isValid()||Js(t).isValid())?xi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rn(t){return this.to(Js(),t)}function on(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ys(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function un(){return this._locale}var dn=1e3,ln=60*dn,cn=60*ln,_n=3506328*cn;function fn(t,e){return(t%e+e)%e}function pn(t,e,s){return t<100&&t>=0?new Date(t+400,e,s)-_n:new Date(t,e,s).valueOf()}function gn(t,e,s){return t<100&&t>=0?Date.UTC(t+400,e,s)-_n:Date.UTC(t,e,s)}function mn(t){var e,s;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?gn:pn,t){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fn(e+(this._isUTC?0:this.utcOffset()*ln),cn);break;case"minute":e=this._d.valueOf(),e-=fn(e,ln);break;case"second":e=this._d.valueOf(),e-=fn(e,dn)}return this._d.setTime(e),n.updateOffset(this,!0),this}function yn(t){var e,s;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?gn:pn,t){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=cn-fn(e+(this._isUTC?0:this.utcOffset()*ln),cn)-1;break;case"minute":e=this._d.valueOf(),e+=ln-fn(e,ln)-1;break;case"second":e=this._d.valueOf(),e+=dn-fn(e,dn)-1}return this._d.setTime(e),n.updateOffset(this,!0),this}function wn(){return this._d.valueOf()-6e4*(this._offset||0)}function Mn(){return Math.floor(this.valueOf()/1e3)}function Yn(){return new Date(this.valueOf())}function vn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function kn(){return this.isValid()?this.toISOString():null}function bn(){return y(this)}function Sn(){return f({},m(this))}function jn(){return m(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(t,e){var s,i,a,r=this._eras||ys("en")._eras;for(s=0,i=r.length;s<i;++s)switch("string"==typeof r[s].since&&(a=n(r[s].since).startOf("day"),r[s].since=a.valueOf()),typeof r[s].until){case"undefined":r[s].until=1/0;break;case"string":a=n(r[s].until).startOf("day").valueOf(),r[s].until=a.valueOf()}return r}function Tn(t,e,s){var i,n,a,r,o,h=this.eras();for(t=t.toUpperCase(),i=0,n=h.length;i<n;++i)if(a=h[i].name.toUpperCase(),r=h[i].abbr.toUpperCase(),o=h[i].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(r===t)return h[i];break;case"NNNN":if(a===t)return h[i];break;case"NNNNN":if(o===t)return h[i]}else if([a,r,o].indexOf(t)>=0)return h[i]}function Nn(t,e){var s=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*s}function Ln(){var t,e,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until)return i[t].name;if(i[t].until<=s&&s<=i[t].since)return i[t].name}return""}function Wn(){var t,e,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until)return i[t].narrow;if(i[t].until<=s&&s<=i[t].since)return i[t].narrow}return""}function Hn(){var t,e,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until)return i[t].abbr;if(i[t].until<=s&&s<=i[t].since)return i[t].abbr}return""}function An(){var t,e,s,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(s=a[t].since<=a[t].until?1:-1,i=this.clone().startOf("day").valueOf(),a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since)return(this.year()-n(a[t].since).year())*s+a[t].offset;return this.year()}function En(t){return h(this,"_erasNameRegex")||Vn.call(this),t?this._erasNameRegex:this._erasRegex}function Pn(t){return h(this,"_erasAbbrRegex")||Vn.call(this),t?this._erasAbbrRegex:this._erasRegex}function Cn(t){return h(this,"_erasNarrowRegex")||Vn.call(this),t?this._erasNarrowRegex:this._erasRegex}function $n(t,e){return e.erasAbbrRegex(t)}function Rn(t,e){return e.erasNameRegex(t)}function Fn(t,e){return e.erasNarrowRegex(t)}function Un(t,e){return e._eraYearOrdinalRegex||Ot}function Vn(){var t,e,s=[],i=[],n=[],a=[],r=this.eras();for(t=0,e=r.length;t<e;++t)i.push(Ct(r[t].name)),s.push(Ct(r[t].abbr)),n.push(Ct(r[t].narrow)),a.push(Ct(r[t].name)),a.push(Ct(r[t].abbr)),a.push(Ct(r[t].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Gn(t,e){F(0,[t,t.length],0,e)}function In(t){return Xn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zn(t){return Xn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Zn(){return ke(this.year(),1,4)}function Bn(){return ke(this.isoWeekYear(),1,4)}function Jn(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function qn(){var t=this.localeData()._week;return ke(this.weekYear(),t.dow,t.doy)}function Xn(t,e,s,i,n){var a;return null==t?De(this,i,n).year:(e>(a=ke(t,i,n))&&(e=a),Qn.call(this,t,e,s,i,n))}function Qn(t,e,s,i,n){var a=ve(t,e,s,i,n),r=Me(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Kn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),At("N",$n),At("NN",$n),At("NNN",$n),At("NNNN",Rn),At("NNNNN",Fn),Rt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,s,i){var n=s._locale.erasParse(t,i,s._strict);n?m(s).era=n:m(s).invalidEra=t})),At("y",Ot),At("yy",Ot),At("yyy",Ot),At("yyyy",Ot),At("yo",Un),Rt(["y","yy","yyy","yyyy"],Gt),Rt(["yo"],(function(t,e,s,i){var n;s._locale._eraYearOrdinalRegex&&(n=t.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[Gt]=s._locale.eraYearOrdinalParse(t,n):e[Gt]=parseInt(t,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Gn("gggg","weekYear"),Gn("ggggg","weekYear"),Gn("GGGG","isoWeekYear"),Gn("GGGGG","isoWeekYear"),it("weekYear","gg"),it("isoWeekYear","GG"),ot("weekYear",1),ot("isoWeekYear",1),At("G",Tt),At("g",Tt),At("GG",Dt,wt),At("gg",Dt,wt),At("GGGG",jt,Yt),At("gggg",jt,Yt),At("GGGGG",xt,vt),At("ggggg",xt,vt),Ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,s,i){e[i.substr(0,2)]=lt(t)})),Ft(["gg","GG"],(function(t,e,s,i){e[i]=n.parseTwoDigitYear(t)})),F("Q",0,"Qo","quarter"),it("quarter","Q"),ot("quarter",7),At("Q",yt),Rt("Q",(function(t,e){e[It]=3*(lt(t)-1)})),F("D",["DD",2],"Do","date"),it("date","D"),ot("date",9),At("D",Dt),At("DD",Dt,wt),At("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Rt(["D","DD"],zt),Rt("Do",(function(t,e){e[zt]=lt(t.match(Dt)[0])}));var ta=ct("Date",!0);function ea(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}F("DDD",["DDDD",3],"DDDo","dayOfYear"),it("dayOfYear","DDD"),ot("dayOfYear",4),At("DDD",St),At("DDDD",Mt),Rt(["DDD","DDDD"],(function(t,e,s){s._dayOfYear=lt(t)})),F("m",["mm",2],0,"minute"),it("minute","m"),ot("minute",14),At("m",Dt),At("mm",Dt,wt),Rt(["m","mm"],Bt);var sa=ct("Minutes",!1);F("s",["ss",2],0,"second"),it("second","s"),ot("second",15),At("s",Dt),At("ss",Dt,wt),Rt(["s","ss"],Jt);var ia,na,aa=ct("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),it("millisecond","ms"),ot("millisecond",16),At("S",St,yt),At("SS",St,wt),At("SSS",St,Mt),ia="SSSS";ia.length<=9;ia+="S")At(ia,Ot);function ra(t,e){e[qt]=lt(1e3*("0."+t))}for(ia="S";ia.length<=9;ia+="S")Rt(ia,ra);function oa(){return this._isUTC?"UTC":""}function ha(){return this._isUTC?"Coordinated Universal Time":""}na=ct("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var ua=D.prototype;function da(t){return Js(1e3*t)}function la(){return Js.apply(null,arguments).parseZone()}function ca(t){return t}ua.add=Hi,ua.calendar=Ui,ua.clone=Vi,ua.diff=qi,ua.endOf=yn,ua.format=en,ua.from=sn,ua.fromNow=nn,ua.to=an,ua.toNow=rn,ua.get=pt,ua.invalidAt=jn,ua.isAfter=Gi,ua.isBefore=Ii,ua.isBetween=zi,ua.isSame=Zi,ua.isSameOrAfter=Bi,ua.isSameOrBefore=Ji,ua.isValid=bn,ua.lang=hn,ua.locale=on,ua.localeData=un,ua.max=Xs,ua.min=qs,ua.parsingFlags=Sn,ua.set=gt,ua.startOf=mn,ua.subtract=Ai,ua.toArray=vn,ua.toObject=Dn,ua.toDate=Yn,ua.toISOString=Ki,ua.inspect=tn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=kn,ua.toString=Qi,ua.unix=Mn,ua.valueOf=wn,ua.creationData=xn,ua.eraName=Ln,ua.eraNarrow=Wn,ua.eraAbbr=Hn,ua.eraYear=An,ua.year=me,ua.isLeapYear=ye,ua.weekYear=In,ua.isoWeekYear=zn,ua.quarter=ua.quarters=Kn,ua.month=le,ua.daysInMonth=ce,ua.week=ua.weeks=Oe,ua.isoWeek=ua.isoWeeks=Te,ua.weeksInYear=Jn,ua.weeksInWeekYear=qn,ua.isoWeeksInYear=Zn,ua.isoWeeksInISOWeekYear=Bn,ua.date=ta,ua.day=ua.days=Ie,ua.weekday=ze,ua.isoWeekday=Ze,ua.dayOfYear=ea,ua.hour=ua.hours=ns,ua.minute=ua.minutes=sa,ua.second=ua.seconds=aa,ua.millisecond=ua.milliseconds=na,ua.utcOffset=pi,ua.utc=mi,ua.local=yi,ua.parseZone=wi,ua.hasAlignedHourOffset=Mi,ua.isDST=Yi,ua.isLocal=Di,ua.isUtcOffset=ki,ua.isUtc=bi,ua.isUTC=bi,ua.zoneAbbr=oa,ua.zoneName=ha,ua.dates=S("dates accessor is deprecated. Use date instead.",ta),ua.months=S("months accessor is deprecated. Use month instead",le),ua.years=S("years accessor is deprecated. Use year instead",me),ua.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),ua.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vi);var _a=W.prototype;function fa(t,e,s,i){var n=ys(),a=p().set(i,e);return n[s](a,t)}function pa(t,e,s){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return fa(t,e,s,"month");var i,n=[];for(i=0;i<12;i++)n[i]=fa(t,i,s,"month");return n}function ga(t,e,s,i){"boolean"==typeof t?(l(e)&&(s=e,e=void 0),e=e||""):(s=e=t,t=!1,l(e)&&(s=e,e=void 0),e=e||"");var n,a=ys(),r=t?a._week.dow:0,o=[];if(null!=s)return fa(e,(s+r)%7,i,"day");for(n=0;n<7;n++)o[n]=fa(e,(n+r)%7,i,"day");return o}function ma(t,e){return pa(t,e,"months")}function ya(t,e){return pa(t,e,"monthsShort")}function wa(t,e,s){return ga(t,e,s,"weekdays")}function Ma(t,e,s){return ga(t,e,s,"weekdaysShort")}function Ya(t,e,s){return ga(t,e,s,"weekdaysMin")}_a.calendar=A,_a.longDateFormat=Z,_a.invalidDate=J,_a.ordinal=Q,_a.preparse=ca,_a.postformat=ca,_a.relativeTime=tt,_a.pastFuture=et,_a.set=N,_a.eras=On,_a.erasParse=Tn,_a.erasConvertYear=Nn,_a.erasAbbrRegex=Pn,_a.erasNameRegex=En,_a.erasNarrowRegex=Cn,_a.months=re,_a.monthsShort=oe,_a.monthsParse=ue,_a.monthsRegex=fe,_a.monthsShortRegex=_e,_a.week=be,_a.firstDayOfYear=xe,_a.firstDayOfWeek=je,_a.weekdays=Re,_a.weekdaysMin=Ue,_a.weekdaysShort=Fe,_a.weekdaysParse=Ge,_a.weekdaysRegex=Be,_a.weekdaysShortRegex=Je,_a.weekdaysMinRegex=qe,_a.isPM=ss,_a.meridiem=as,ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===lt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",ps),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ys);var va=Math.abs;function Da(){var t=this._data;return this._milliseconds=va(this._milliseconds),this._days=va(this._days),this._months=va(this._months),t.milliseconds=va(t.milliseconds),t.seconds=va(t.seconds),t.minutes=va(t.minutes),t.hours=va(t.hours),t.months=va(t.months),t.years=va(t.years),this}function ka(t,e,s,i){var n=xi(e,s);return t._milliseconds+=i*n._milliseconds,t._days+=i*n._days,t._months+=i*n._months,t._bubble()}function ba(t,e){return ka(this,t,e,1)}function Sa(t,e){return ka(this,t,e,-1)}function ja(t){return t<0?Math.floor(t):Math.ceil(t)}function xa(){var t,e,s,i,n,a=this._milliseconds,r=this._days,o=this._months,h=this._data;return a>=0&&r>=0&&o>=0||a<=0&&r<=0&&o<=0||(a+=864e5*ja(Ta(o)+r),r=0,o=0),h.milliseconds=a%1e3,t=dt(a/1e3),h.seconds=t%60,e=dt(t/60),h.minutes=e%60,s=dt(e/60),h.hours=s%24,r+=dt(s/24),o+=n=dt(Oa(r)),r-=ja(Ta(n)),i=dt(o/12),o%=12,h.days=r,h.months=o,h.years=i,this}function Oa(t){return 4800*t/146097}function Ta(t){return 146097*t/4800}function Na(t){if(!this.isValid())return NaN;var e,s,i=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,s=this._months+Oa(e),t){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round(Ta(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function La(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12):NaN}function Wa(t){return function(){return this.as(t)}}var Ha=Wa("ms"),Aa=Wa("s"),Ea=Wa("m"),Pa=Wa("h"),Ca=Wa("d"),$a=Wa("w"),Ra=Wa("M"),Fa=Wa("Q"),Ua=Wa("y");function Va(){return xi(this)}function Ga(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function Ia(t){return function(){return this.isValid()?this._data[t]:NaN}}var za=Ia("milliseconds"),Za=Ia("seconds"),Ba=Ia("minutes"),Ja=Ia("hours"),qa=Ia("days"),Xa=Ia("months"),Qa=Ia("years");function Ka(){return dt(this.days()/7)}var tr=Math.round,er={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function sr(t,e,s,i,n){return n.relativeTime(e||1,!!s,t,i)}function ir(t,e,s,i){var n=xi(t).abs(),a=tr(n.as("s")),r=tr(n.as("m")),o=tr(n.as("h")),h=tr(n.as("d")),u=tr(n.as("M")),d=tr(n.as("w")),l=tr(n.as("y")),c=a<=s.ss&&["s",a]||a<s.s&&["ss",a]||r<=1&&["m"]||r<s.m&&["mm",r]||o<=1&&["h"]||o<s.h&&["hh",o]||h<=1&&["d"]||h<s.d&&["dd",h];return null!=s.w&&(c=c||d<=1&&["w"]||d<s.w&&["ww",d]),(c=c||u<=1&&["M"]||u<s.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=e,c[3]=+t>0,c[4]=i,sr.apply(null,c)}function nr(t){return void 0===t?tr:"function"==typeof t&&(tr=t,!0)}function ar(t,e){return void 0!==er[t]&&(void 0===e?er[t]:(er[t]=e,"s"===t&&(er.ss=e-1),!0))}function rr(t,e){if(!this.isValid())return this.localeData().invalidDate();var s,i,n=!1,a=er;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(a=Object.assign({},er,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),i=ir(this,!n,a,s=this.localeData()),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var or=Math.abs;function hr(t){return(t>0)-(t<0)||+t}function ur(){if(!this.isValid())return this.localeData().invalidDate();var t,e,s,i,n,a,r,o,h=or(this._milliseconds)/1e3,u=or(this._days),d=or(this._months),l=this.asSeconds();return l?(t=dt(h/60),e=dt(t/60),h%=60,t%=60,s=dt(d/12),d%=12,i=h?h.toFixed(3).replace(/\.?0+$/,""):"",n=l<0?"-":"",a=hr(this._months)!==hr(l)?"-":"",r=hr(this._days)!==hr(l)?"-":"",o=hr(this._milliseconds)!==hr(l)?"-":"",n+"P"+(s?a+s+"Y":"")+(d?a+d+"M":"")+(u?r+u+"D":"")+(e||t||h?"T":"")+(e?o+e+"H":"")+(t?o+t+"M":"")+(h?o+i+"S":"")):"P0D"}var dr=ri.prototype;return dr.isValid=ni,dr.abs=Da,dr.add=ba,dr.subtract=Sa,dr.as=Na,dr.asMilliseconds=Ha,dr.asSeconds=Aa,dr.asMinutes=Ea,dr.asHours=Pa,dr.asDays=Ca,dr.asWeeks=$a,dr.asMonths=Ra,dr.asQuarters=Fa,dr.asYears=Ua,dr.valueOf=La,dr._bubble=xa,dr.clone=Va,dr.get=Ga,dr.milliseconds=za,dr.seconds=Za,dr.minutes=Ba,dr.hours=Ja,dr.days=qa,dr.weeks=Ka,dr.months=Xa,dr.years=Qa,dr.humanize=rr,dr.toISOString=ur,dr.toString=ur,dr.toJSON=ur,dr.locale=on,dr.localeData=un,dr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ur),dr.lang=hn,F("X",0,0,"unix"),F("x",0,0,"valueOf"),At("x",Tt),At("X",Wt),Rt("X",(function(t,e,s){s._d=new Date(1e3*parseFloat(t))})),Rt("x",(function(t,e,s){s._d=new Date(lt(t))})),
//! moment.js
n.version="2.29.3",a(Js),n.fn=ua,n.min=Ks,n.max=ti,n.now=ei,n.utc=p,n.unix=da,n.months=ma,n.isDate=c,n.locale=ps,n.invalid=w,n.duration=xi,n.isMoment=k,n.weekdays=wa,n.parseZone=la,n.localeData=ys,n.isDuration=oi,n.monthsShort=ya,n.weekdaysMin=Ya,n.defineLocale=gs,n.updateLocale=ms,n.locales=ws,n.weekdaysShort=Ma,n.normalizeUnits=nt,n.relativeTimeRounding=nr,n.relativeTimeThreshold=ar,n.calendarFormat=Fi,n.prototype=ua,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}(),s=function(t){
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},s={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,s){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return s[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})},s(i.exports);var n,a=R,r=i.exports,o=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,h=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,u=/\d\d?/,d=/\d{1,3}/,l=/\d{3}/,c=/\d{1,4}/,_=/[+\-]?\d{1,6}/,f=/[0-9]*["a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/Z|[\+\-]\d\d:?\d\d/i,g=/T/i,m=/[\+\-]?\d+(\.\d{1,3})?/,y={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},w={},M="DDD w M D".split(" "),Y="M D w".split(" "),v=1,D=2,k={jM:function(){return this.jMonth()+1},jMMM:function(t){return this.localeData().jMonthsShort(this,t)},jMMMM:function(t){return this.localeData().jMonths(this,t)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return x(this.jYear()%100,2)},jYYYY:function(){return x(this.jYear(),4)},jYYYYY:function(){return x(this.jYear(),5)},jgg:function(){return x(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return x(this.jWeekYear(),5)}};function b(t,e){return function(s){return x(t.call(this,s),e)}}function S(t,e){return function(s){return this.localeData().ordinal(t.call(this,s),e)}}function j(t,e){var s;for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}function x(t,e){for(var s=t+"";s.length<e;)s="0"+s;return s}function O(t){for(var e=0;e<t.length;e++)(!e||"j"!==t[e-1]&&t[e-1]!==t[e])&&("Y"!==t[e]&&"M"!==t[e]&&"D"!==t[e]&&"g"!==t[e]||(t=t.slice(0,e)+"j"+t.slice(e)));return t}function T(t,e){if(C(e)&&(t=function(t){switch(t){case"week":return"jWeek";case"year":return"jYear";case"month":return"jMonth";case"months":return"jMonths";case"monthName":case"monthsShort":return"jMonthsShort"}return t}(t)),t){var s=t.toLowerCase();s.startsWith("j")&&(t=y[s]||s),"jday"===t?t="day":"jd"===t&&(t="d")}return t}function N(t,e,s,i){var n=t._d;t._isUTC?t._d=new Date(Date.UTC(e,s,i,n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())):t._d=new Date(e,s,i,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function L(t){function e(){}return e.prototype=t,new e}function W(t,e){switch(t){case"jDDDD":case"DDDD":return l;case"jYYYY":case"YYYY":return c;case"jYYYYY":case"YYYYY":return _;case"jDDD":case"S":case"SS":case"SSS":case"DDD":return d;case"jMMM":case"jMMMM":case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return f;case"jMM":case"jDD":case"jYY":case"jM":case"jD":case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return u;case"a":case"A":return r.localeData(e._l)._meridiemParse;case"X":return m;case"Z":case"ZZ":return p;case"T":return g;default:return new RegExp(t.replace("\\",""))}}function H(t){return null==t}function A(t,e,s){var i,n=s._a;switch(t){case"jM":case"jMM":n[1]=H(e)?0:~~e-1;break;case"jMMM":case"jMMMM":H(i=r.localeData(s._l).jMonthsParse(e))?s._isValid=!1:n[1]=i;break;case"jD":case"jDD":case"jDDD":case"jDDDD":H(e)||(n[2]=~~e);break;case"jYY":n[0]=~~e+(~~e>47?1300:1400);break;case"jYYYY":case"jYYYYY":n[0]=~~e}H(e)&&(s._isValid=!1)}function E(t){var e,s,i,n=t._f.match(o),a=t._i+"",r=n.length;for(t._a=[],e=0;e<r;e+=1)(i=(W(s=n[e],t).exec(a)||[])[0])&&(a=a.slice(a.indexOf(i)+i.length)),k[s]&&A(s,i,t);return a&&(t._il=a),function(t){var e,s,i=t._a[0],n=t._a[1],a=t._a[2];if(!(H(i)&&H(n)&&H(a)))return i=H(i)?0:i,n=H(n)?0:n,((a=H(a)?1:a)<1||a>R.jDaysInMonth(i,n)||n<0||n>11)&&(t._isValid=!1),s=V((e=G(i,n,a)).gy,e.gm,e.gd),t._jDiff=0,~~s.jy!==i&&(t._jDiff+=1),~~s.jm!==n&&(t._jDiff+=1),~~s.jd!==a&&(t._jDiff+=1),[e.gy,e.gm,e.gd]}(t)}function P(t,e,s){var i,n=s-e,a=s-t.day();return a>n&&(a-=7),a<n-7&&(a+=7),i=R(t).add(a,"d"),{week:Math.ceil(i.jDayOfYear()/7),year:i.jYear()}}function C(t){return t&&t.calSystem===v||r.justUseJalali&&t.calSystem!==D}function $(t,e,s,i,n){"boolean"==typeof s&&(n=n||i,i=s,s=void 0),r.ISO_8601===e&&(e="YYYY-MM-DDTHH:mm:ss.SSSZ");const a=(h=this,r.justUseJalali||h&&h.calSystem===v);var h;t&&"string"==typeof t&&!e&&a&&!r.useGregorianParser&&(t=t.replace(/\//g,"-"),/\d{4}\-\d{2}\-\d{2}/.test(t)?e="jYYYY-jMM-jDD":/\d{4}\-\d{2}\-\d{1}/.test(t)?e="jYYYY-jMM-jD":/\d{4}\-\d{1}\-\d{1}/.test(t)?e="jYYYY-jM-jD":/\d{4}\-\d{1}\-\d{2}/.test(t)?e="jYYYY-jM-jDD":/\d{4}\-W\d{2}\-\d{2}/.test(t)?e="jYYYY-jW-jDD":/\d{4}\-\d{3}/.test(t)?e="jYYYY-jDDD":/\d{8}/.test(t)?e="jYYYYjMMjDD":/\d{4}W\d{2}\d{1}/.test(t)?e="jYYYYjWWjD":/\d{4}W\d{2}/.test(t)?e="jYYYYjWW":/\d{4}\d{3}/.test(t)&&(e="jYYYYjDDD")),e&&a&&(e=O(e)),e&&"string"==typeof e&&(e=F(e,r));var u,d,l,c={_i:t,_f:e,_l:s,_strict:i,_isUTC:n},_=t,f=e;if(e){if(function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e))return function(t,e){var s,i,n,a,r,o,h=t._f.length;if(0===h)return $(new Date(NaN));for(s=0;s<h;s+=1)i=t._f[s],r=0,(n=$(t._i,i,t._l,t._strict,e)).isValid()&&(r+=n._jDiff,n._il&&(r+=n._il.length),(H(o)||r<o)&&(o=r,a=n));return a}(c,n);u=E(c),function(t){var e,s,i,n=t._i+"",a="",r="",h=t._f.match(o),u=h.length;for(e=0;e<u;e+=1)(i=(W(s=h[e],t).exec(n)||[])[0])&&(n=n.slice(n.indexOf(i)+i.length)),k[s]instanceof Function||(r+=s,i&&(a+=i));t._i=a,t._f=r}(c),u&&(e="YYYY-MM-DD-"+c._f,t=x(u[0],4)+"-"+x(u[1]+1,2)+"-"+x(u[2],2)+"-"+c._i)}return d=n?r.utc(t,e,s,i):r(t,e,s,i),(!1===c._isValid||t&&t._isAMomentObject&&!t._isValid)&&(d._isValid=!1),d._jDiff=c._jDiff||0,j(l=L(R.fn),d),i&&l.isValid()&&(l._isValid=l.format(f)===_),t&&t.calSystem&&(l.calSystem=t.calSystem),l}function R(t,e,s,i){return $(t,e,s,i,!1)}function F(t,e){for(var s=5,i=function(t){return e.localeData().longDateFormat(t)||t};s>0&&h.test(t);)s-=1,t=t.replace(h,i);return t}function U(t){var e=t._d;return t._isUTC?V(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):V(e.getFullYear(),e.getMonth(),e.getDate())}function V(t,e,s){var i=function(t,e,s){"[object Date]"===Object.prototype.toString.call(t)&&(s=t.getDate(),e=t.getMonth()+1,t=t.getFullYear());return function(t){var e,s,i,n=q(t).gy,a=n-621,r=B(a),o=J(n,3,r.march);if((i=t-o)>=0){if(i<=185)return{jy:a,jm:s=1+I(i,31),jd:e=z(i,31)+1};i-=186}else a-=1,i+=179,1===r.leap&&(i+=1);return s=7+I(i,30),e=z(i,30)+1,{jy:a,jm:s,jd:e}}(J(t,e,s))}(t,e+1,s);return i.jm-=1,i}function G(t,e,s){var i=function(t,e,s){return q(function(t,e,s){var i=B(t);return J(i.gy,3,i.march)+31*(e-1)-I(e,7)*(e-7)+s-1}(t,e,s))}(t,e+1,s);return i.gm-=1,i}function I(t,e){return~~(t/e)}function z(t,e){return t-~~(t/e)*e}function Z(t){return 0===B(t).leap}function B(t){var e,s,i,n,a,r,o=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],h=o.length,u=t+621,d=-14,l=o[0];if(t<l||t>=o[h-1])throw new Error("Invalid Jalali year "+t);for(r=1;r<h&&(s=(e=o[r])-l,!(t<e));r+=1)d=d+8*I(s,33)+I(z(s,33),4),l=e;return d=d+8*I(a=t-l,33)+I(z(a,33)+3,4),4===z(s,33)&&s-a==4&&(d+=1),n=20+d-(I(u,4)-I(3*(I(u,100)+1),4)-150),s-a<6&&(a=a-s+33*I(s+4,33)),-1===(i=z(z(a+1,33)-1,4))&&(i=4),{leap:i,gy:u,march:n}}function J(t,e,s){var i=I(1461*(t+I(e-8,6)+100100),4)+I(153*z(e+9,12)+2,5)+s-34840408;return i=i-I(3*I(t+100100+I(e-8,6),100),4)+752}function q(t){var e,s,i,n;return e=(e=4*t+139361631)+4*I(3*I(4*t+183187720,146097),4)-3908,s=5*I(z(e,1461),4)+308,i=I(z(s,153),5)+1,n=z(I(s,153),12)+1,{gy:I(e,1461)-100100+I(8-n,6),gm:n,gd:i}}!function(){for(var t;M.length;)t=M.pop(),k["j"+t+"o"]=S(k["j"+t],t);for(;Y.length;)t=Y.pop(),k["j"+t+t]=b(k["j"+t],2);k.jDDDD=b(k.jDDD,3)}(),j((n=r.localeData(),Object.getPrototypeOf?Object.getPrototypeOf(n):"".__proto__?n.__proto__:n.constructor.prototype),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Mordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(t){return t?this._jMonths[t.jMonth()]:this._jMonths},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(t){return t?this._jMonthsShort[t.jMonth()]:this._jMonthsShort},jMonthsParse:function(t){var e,s,i;for(this._jMonthsParse||(this._jMonthsParse=[]),e=0;e<12;e+=1)if(this._jMonthsParse[e]||(s=R([2e3,(2+e)%12,25]),i="^"+this.jMonths(s,"")+"|^"+this.jMonthsShort(s,""),this._jMonthsParse[e]=new RegExp(i.replace(".",""),"i")),this._jMonthsParse[e].test(t))return e}}),j(R,r),R.fn=L(r.fn),R.utc=function(t,e,s,i){return $(t,e,s,i,!0)},R.unix=function(t){return $(1e3*t)},R.fn.format=function(t){return(t=t||R.defaultFormat)&&(C(this)&&(t=O(t)),t=F(t,this),w[t]||(w[t]=function(t){var e,s=t.match(o),i=s.length;for(e=0;e<i;e+=1)k[s[e]]&&(s[e]=k[s[e]]);return function(n){var a="";for(e=0;e<i;e+=1)a+=s[e]instanceof Function?"["+s[e].call(n,t)+"]":s[e];return a}}(t)),t=w[t](this)),r.fn.format.call(this,t)},R.fn.year=function(t){return C(this)?R.fn.jYear.call(this,t):r.fn.year.call(this,t)},R.fn.jYear=function(t){var e,s,i;return"number"==typeof t?(s=U(this),e=Math.min(s.jd,R.jDaysInMonth(t,s.jm)),N(this,(i=G(t,s.jm,e)).gy,i.gm,i.gd),r.updateOffset(this),this):U(this).jy},R.fn.month=function(t){return C(this)?R.fn.jMonth.call(this,t):r.fn.month.call(this,t)},R.fn.jMonth=function(t){var e,s,i;return H(t)?U(this).jm:("string"==typeof t&&"number"!=typeof(t=this.localeData().jMonthsParse(t))||(s=U(this),e=Math.min(s.jd,R.jDaysInMonth(s.jy,t)),this.jYear(s.jy+I(t,12)),(t=z(t,12))<0&&(t+=12,this.jYear(this.jYear()-1)),N(this,(i=G(this.jYear(),t,e)).gy,i.gm,i.gd),r.updateOffset(this)),this)},R.fn.date=function(t){return C(this)?R.fn.jDate.call(this,t):r.fn.date.call(this,t)},R.fn.jDate=function(t){var e,s;return"number"==typeof t?(N(this,(s=G((e=U(this)).jy,e.jm,t)).gy,s.gm,s.gd),r.updateOffset(this),this):U(this).jd},R.fn.jDay=function(t){return"number"==typeof t?r.fn.day.call(this,t-1):(r.fn.day.call(this)+1)%7},R.fn.diff=function(t,e,s){if(!C(this))return r.fn.diff.call(this,t,e,s);var i;switch(e){case"year":i=n(this,t)/12;break;case"month":i=n(this,t);break;case"quarter":i=n(this,t)/3;break;default:i=r.fn.diff.call(this,t,e,s)}return s?i:i<0?Math.ceil(i)||0:Math.floor(i);function n(t,e){if(t.date()<e.date())return-n(e,t);var s=12*(e.jYear()-t.jYear())+(e.jMonth()-t.jMonth()),i=t.clone().add(s,"months");return-(s+(e-i<0?(e-i)/(i-t.clone().add(s-1,"months")):(e-i)/(t.clone().add(s+1,"months")-i)))||0}},R.fn.dayOfYear=function(t){return C(this)?R.fn.jDayOfYear.call(this,t):r.fn.dayOfYear.call(this,t)},R.fn.jDayOfYear=function(t){var e=Math.round((R(this).startOf("day")-R(this).startOf("jYear"))/864e5)+1;return H(t)?e:this.add(t-e,"d")},R.fn.week=function(t){return C(this)?R.fn.jWeek.call(this,t):r.fn.week.call(this,t)},R.fn.jWeek=function(t){var e=P(this,6,12).week;return H(t)?e:this.add(7*(t-e),"d")},R.fn.weekYear=function(t){return C(this)?R.fn.jWeekYear.call(this,t):r.fn.weekYear.call(this,t)},R.fn.jWeekYear=function(t){var e=P(this,6,12).year;return H(t)?e:this.add(t-e,"jyear")},R.fn.add=function(t,e){var s;return H(e)||isNaN(+e)||(s=t,t=e,e=s),"jweek"!==(e=T(e,this))&&"isoweek"!==e||(e="week"),"jyear"===e?this.jYear(this.jYear()+t):"jmonth"===e?this.jMonth(this.jMonth()+t):r.fn.add.call(this,t,e),this},R.fn.subtract=function(t,e){var s;return H(e)||isNaN(+e)||(s=t,t=e,e=s),"jyear"===(e=T(e,this))?this.jYear(this.jYear()-t):"jmonth"===e?this.jMonth(this.jMonth()-t):r.fn.subtract.call(this,t,e),this},R.fn.startOf=function(t){var e=T(t,this);return"jweek"===e?this.startOf("day").subtract(this.jDay(),"day"):("jyear"===e&&(this.jMonth(0),e="jmonth"),"jmonth"===e&&(this.jDate(1),e="day"),"day"===e?(this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):r.fn.startOf.call(this,t))},R.fn.endOf=function(t){return void 0===(t=T(t,this))||"milisecond"===t?this:this.startOf(t).add(1,t).subtract(1,"ms")},R.fn.isSame=function(t,e){return"jyear"===(e=T(e,this))||"jmonth"===e?r.fn.isSame.call(this.clone().startOf(e),t.clone().startOf(e)):r.fn.isSame.call(this,t,e)},R.fn.isBefore=function(t,e){return"jyear"===(e=T(e,this))||"jmonth"===e?r.fn.isBefore.call(this.clone().startOf(e),t.clone().startOf(e)):r.fn.isBefore.call(this,t,e)},R.fn.isAfter=function(t,e){return"jyear"===(e=T(e,this))||"jmonth"===e?r.fn.isAfter.call(this.clone().startOf(e),t.clone().startOf(e)):r.fn.isAfter.call(this,t,e)},R.fn.clone=function(){return R(this)},R.fn.doAsJalali=function(){return this.calSystem=v,this},R.fn.doAsGregorian=function(){return this.calSystem=D,this},R.fn.jYears=R.fn.jYear,R.fn.jMonths=R.fn.jMonth,R.fn.jDates=R.fn.jDate,R.fn.jWeeks=R.fn.jWeek,R.fn.daysInMonth=function(){return C(this)?this.jDaysInMonth():r.fn.daysInMonth.call(this)},R.fn.jDaysInMonth=function(){var t=this.jMonth(),e=this.jYear();return t<6?31:t<11||R.jIsLeapYear(e)?30:29},R.fn.isLeapYear=function(){return C(this)?this.jIsLeapYear():r.fn.isLeapYear.call(this)},R.fn.jIsLeapYear=function(){return Z(this.jYear())},R.fn.locale=function(t){return t&&r.changeCalendarSystemByItsLocale&&("fa"===t?this.doAsJalali():this.doAsGregorian()),r.fn.locale.call(this,t)},R.locale=function(t,e){return t&&r.changeCalendarSystemByItsLocale&&("fa"===t?this.useJalaliSystemPrimarily(e):this.useJalaliSystemSecondary()),r.locale.call(this,t)},R.from=function(t,e,s){var i=R.locale();R.locale(e);var n=R(t,s);return n.locale(i),R.locale(i),n},R.bindCalendarSystemAndLocale=function(){r.changeCalendarSystemByItsLocale=!0},R.unBindCalendarSystemAndLocale=function(){r.changeCalendarSystemByItsLocale=!1},R.useJalaliSystemPrimarily=function(t){r.justUseJalali=!0;var e=!1;t&&(e=t.useGregorianParser),r.useGregorianParser=e},R.useJalaliSystemSecondary=function(){r.justUseJalali=!1},R.jDaysInMonth=function(t,e){return t+=I(e,12),(e=z(e,12))<0&&(e+=12,t-=1),e<6?31:e<11||R.jIsLeapYear(t)?30:29},R.jIsLeapYear=Z,r.updateLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:{dow:6,doy:12},meridiem:function(t){return t<12?".":"."},jMonths:"___________".split("_"),jMonthsShort:"___________".split("_")}),R.bindCalendarSystemAndLocale(),r.locale("en"),R.jConvert={toJalali:V,toGregorian:G};const X="year",Q="month",K="day",tt="hour",et="minute",st="second",it="millisecond",nt={en:["January","February","March","April","May","June","July","August","September","October","November","December"],es:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],ru:["","","","","","","","","","","",""],ptBr:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],fr:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],tr:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],zh:["","","","","","","","","","","",""],fa:["","","","","","","","","","","",""]};class at{constructor(t){this.options=Object.assign({},{is_jalali:!1,language:"en"},t)}parse(t,e="-",s=/[.:]/){if(t instanceof Date)return t;if("string"==typeof t){let i,n;const a=t.split(" ");i=a[0].split(e).map((t=>parseInt(t,10))),n=a[1]&&a[1].split(s),i[1]=i[1]-1;let r=i;return n&&n.length&&(4==n.length&&(n[3]="0."+n[3],n[3]=1e3*parseFloat(n[3])),r=r.concat(n)),new Date(...r)}}to_string(t,e=!1){if(!(t instanceof Date))throw new TypeError("Invalid argument type");const s=this.get_date_values(t).map(((t,e)=>(1===e&&(t+=1),rt(t+"",6===e?3:2,"0")))),i=`${s[0]}-${s[1]}-${s[2]}`,n=`${s[3]}:${s[4]}:${s[5]}.${s[6]}`;return i+(e?" "+n:"")}format(t,e="YYYY-MM-DD HH:mm:ss.SSS"){const s=this.get_date_values(t).map((t=>rt(t,2,0)));let i={YYYY:s[0],MM:rt(+s[1]+1,2,0),DD:s[2],HH:s[3],mm:s[4],ss:s[5],SSS:s[6],D:s[2],MMMM:nt[this.options.language][+s[1]],MMM:nt[this.options.language][+s[1]]};if(this.options.is_jalali){let t=rt(+s[1]+1,2,0),e=s[0]+"-"+t+"-"+s[2],n=a.from(e,"en","YYYY-MM-DD").locale("fa"),r=n.format("jYYYY"),o=n.format("jMM"),h=n.format("jDD"),u=o-1;i={YYYY:r,MM:o,DD:h,HH:s[3],mm:s[4],ss:s[5],SSS:s[6],D:h,MMMM:nt[this.options.language][u],MMM:nt[this.options.language][u]}}let n=e;const r=[];return Object.keys(i).sort(((t,e)=>e.length-t.length)).forEach((t=>{n.includes(t)&&(n=n.replace(t,`$${r.length}`),r.push(i[t]))})),r.forEach(((t,e)=>{n=n.replace(`$${e}`,t)})),n}diff(t,e,s=K){let i,n,a,r,o,h,u;return i=t-e,n=i/1e3,r=n/60,a=r/60,o=a/24,h=o/30,u=h/12,s.endsWith("s")||(s+="s"),Math.floor({milliseconds:i,seconds:n,minutes:r,hours:a,days:o,months:h,years:u}[s])}today(){const t=this.get_date_values(new Date).slice(0,3);return new Date(...t)}now(){return new Date}add(t,e,s){e=parseInt(e,10);const i=[t.getFullYear()+(s===X?e:0),t.getMonth()+(s===Q?e:0),t.getDate()+(s===K?e:0),t.getHours()+(s===tt?e:0),t.getMinutes()+(s===et?e:0),t.getSeconds()+(s===st?e:0),t.getMilliseconds()+(s===it?e:0)];return new Date(...i)}start_of(t,e){const s={[X]:6,[Q]:5,[K]:4,[tt]:3,[et]:2,[st]:1,[it]:0};function i(t){return s[t]<=s[e]}const n=[t.getFullYear(),i(X)?0:t.getMonth(),i(Q)?1:t.getDate(),i(K)?0:t.getHours(),i(tt)?0:t.getMinutes(),i(et)?0:t.getSeconds(),i(st)?0:t.getMilliseconds()];return new Date(...n)}clone(t){return new Date(...this.get_date_values(t))}get_date_values(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}get_days_in_month(t){let e=[31,28,31,30,31,30,31,31,30,31,30,31];const s=t.getMonth();if(this.options.is_jalali&&(e=[31,31,31,31,31,31,30,30,30,30,30,29],12!==s))return e[s];if(1!==s)return e[s];const i=t.getFullYear();return i%4==0&&i%100!=0||i%400==0?29:28}}function rt(t,e,s){return t+="",e>>=0,s=String(void 0!==s?s:" "),t.length>e?String(t):((e-=t.length)>s.length&&(s+=s.repeat(e/s.length)),s.slice(0,e)+String(t))}function ot(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function ht(t,e){const s=document.createElementNS("http://www.w3.org/2000/svg",t);for(let t in e)if("append_to"===t){e.append_to.appendChild(s)}else"innerHTML"===t?s.innerHTML=e.innerHTML:s.setAttribute(t,e[t]);return s}function ut(t,e,s,i){const n=function(t,e,s,i,n="0.4s",a="0.1s"){const r=t.querySelector("animate");if(r)return ot.attr(r,{attributeName:e,from:s,to:i,dur:n,begin:"click + "+a}),t;const o=ht("animate",{attributeName:e,from:s,to:i,dur:n,begin:a,calcMode:"spline",values:s+";"+i,keyTimes:"0; 1",keySplines:dt("ease-out")});return t.appendChild(o),t}(t,e,s,i);if(n===t){const t=document.createEvent("HTMLEvents");t.initEvent("click",!0,!0),t.eventName="click",n.dispatchEvent(t)}}function dt(t){return{ease:".25 .1 .25 1",linear:"0 0 1 1","ease-in":".42 0 1 1","ease-out":"0 0 .58 1","ease-in-out":".42 0 .58 1"}[t]}ot.on=(t,e,s,i)=>{i?ot.delegate(t,e,s,i):(i=s,ot.bind(t,e,i))},ot.off=(t,e,s)=>{t.removeEventListener(e,s)},ot.bind=(t,e,s)=>{e.split(/\s+/).forEach((function(e){t.addEventListener(e,s)}))},ot.delegate=(t,e,s,i)=>{t.addEventListener(e,(function(t){const e=t.target.closest(s);e&&(t.delegatedTarget=e,i.call(this,t,e))}))},ot.closest=(t,e)=>e?e.matches(t)?e:ot.closest(t,e.parentNode):null,ot.attr=(t,e,s)=>{if(!s&&"string"==typeof e)return t.getAttribute(e);if("object"!=typeof e)t.setAttribute(e,s);else for(let s in e)ot.attr(t,s,e[s])};class lt{constructor(t,e){this.set_defaults(t,e),this.date_utils=new at(t.options),this.prepare(),this.draw(),this.bind()}set_defaults(t,e){this.action_completed=!1,this.gantt=t,this.task=e}prepare(){this.prepare_values(),this.prepare_helpers()}prepare_values(){this.invalid=this.task.invalid,this.height=this.gantt.options.bar_height,this.x=this.compute_x(),this.y=this.compute_y(),this.corner_radius=this.gantt.options.bar_corner_radius,this.duration=this.date_utils.diff(this.task._end,this.task._start,"hour")/this.gantt.options.step,this.width=this.gantt.options.column_width*this.duration,this.progress_width=this.gantt.options.column_width*this.duration*(this.task.progress/100)||0,this.group=ht("g",{class:"bar-wrapper "+(this.task.custom_class||""),"data-id":this.task.id}),this.bar_group=ht("g",{class:"bar-group",append_to:this.group}),this.handle_group=ht("g",{class:"handle-group",append_to:this.group})}prepare_helpers(){SVGElement.prototype.getX=function(){return+this.getAttribute("x")},SVGElement.prototype.getY=function(){return+this.getAttribute("y")},SVGElement.prototype.getWidth=function(){return+this.getAttribute("width")},SVGElement.prototype.getHeight=function(){return+this.getAttribute("height")},SVGElement.prototype.getEndX=function(){return this.getX()+this.getWidth()}}draw(){this.draw_bar(),this.draw_progress_bar(),this.draw_label(),this.draw_resize_handles()}draw_bar(){this.$bar=ht("rect",{x:this.x,y:this.y,width:this.width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar",append_to:this.bar_group}),ut(this.$bar,"width",0,this.width),this.invalid&&this.$bar.classList.add("bar-invalid")}draw_progress_bar(){this.invalid||(this.$bar_progress=ht("rect",{x:this.x,y:this.y,width:this.progress_width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar-progress",append_to:this.bar_group}),ut(this.$bar_progress,"width",0,this.progress_width))}draw_label(){ht("text",{x:this.x+this.width/2,y:this.y+this.height/2,innerHTML:this.task.name,class:"bar-label",append_to:this.bar_group}),requestAnimationFrame((()=>this.update_label_position()))}draw_resize_handles(){if(this.invalid)return;const t=this.$bar;ht("rect",{x:t.getX()+t.getWidth()-9,y:t.getY()+1,width:8,height:this.height-2,rx:this.corner_radius,ry:this.corner_radius,class:"handle right",append_to:this.handle_group}),ht("rect",{x:t.getX()+1,y:t.getY()+1,width:8,height:this.height-2,rx:this.corner_radius,ry:this.corner_radius,class:"handle left",append_to:this.handle_group}),this.task.progress&&this.task.progress<100&&(this.$handle_progress=ht("polygon",{points:this.get_progress_polygon_points().join(","),class:"handle progress",append_to:this.handle_group}))}get_progress_polygon_points(){const t=this.$bar_progress;return[t.getEndX()-5,t.getY()+t.getHeight(),t.getEndX()+5,t.getY()+t.getHeight(),t.getEndX(),t.getY()+t.getHeight()-8.66]}bind(){this.invalid||this.setup_click_event()}setup_click_event(){ot.on(this.group,"focus "+this.gantt.options.popup_trigger,(t=>{this.action_completed||(this.show_popup(),this.gantt.unselect_all(),this.group.classList.add("active"))})),ot.on(this.group,"dblclick",(t=>{this.action_completed||this.gantt.trigger_event("click",[this.task])}))}show_popup(){if(this.gantt.bar_being_dragged)return;const t=this.date_utils.format(this.task._start,"MMM D",this.gantt.options.language)+" - "+this.date_utils.format(this.date_utils.add(this.task._end,-1,"second"),"MMM D",this.gantt.options.language);this.gantt.show_popup({target_element:this.$bar,title:this.task.name,subtitle:t,task:this.task})}update_bar_position({x:t=null,width:e=null}){const s=this.$bar;if(t){if(!this.task.dependencies.map((t=>this.gantt.get_bar(t).$bar.getX())).reduce(((e,s)=>t>=s),t))return void(e=null);this.update_attr(s,"x",t)}e&&e>=this.gantt.options.column_width&&this.update_attr(s,"width",e),this.update_label_position(),this.update_handle_position(),this.update_progressbar_position(),this.update_arrow_position()}date_changed(){let t=!1;const{new_start_date:e,new_end_date:s}=this.compute_start_end_date();Number(this.task._start)!==Number(e)&&(t=!0,this.task._start=e),Number(this.task._end)!==Number(s)&&(t=!0,this.task._end=s),t&&this.gantt.trigger_event("date_change",[this.task,e,this.date_utils.add(s,-1,"second")])}progress_changed(){const t=this.compute_progress();this.task.progress=t,this.gantt.trigger_event("progress_change",[this.task,t])}set_action_completed(){this.action_completed=!0,setTimeout((()=>this.action_completed=!1),1e3)}compute_start_end_date(){const t=this.$bar,e=t.getX()/this.gantt.options.column_width,s=this.date_utils.add(this.gantt.gantt_start,e*this.gantt.options.step,"hour"),i=t.getWidth()/this.gantt.options.column_width;return{new_start_date:s,new_end_date:this.date_utils.add(s,i*this.gantt.options.step,"hour")}}compute_progress(){const t=this.$bar_progress.getWidth()/this.$bar.getWidth()*100;return parseInt(t,10)}compute_x(){const{step:t,column_width:e}=this.gantt.options,s=this.task._start,i=this.gantt.gantt_start;let n=this.date_utils.diff(s,i,"hour")/t*e;if(this.gantt.view_is("Month")){n=this.date_utils.diff(s,i,"day")*e/30}return n}compute_y(){return this.gantt.options.header_height+this.gantt.options.padding+this.task._index*(this.height+this.gantt.options.padding)}get_snap_position(t){let e,s,i=t;return this.gantt.view_is("Week")?(e=t%(this.gantt.options.column_width/7),s=i-e+(e<this.gantt.options.column_width/14?0:this.gantt.options.column_width/7)):this.gantt.view_is("Month")?(e=t%(this.gantt.options.column_width/30),s=i-e+(e<this.gantt.options.column_width/60?0:this.gantt.options.column_width/30)):(e=t%this.gantt.options.column_width,s=i-e+(e<this.gantt.options.column_width/2?0:this.gantt.options.column_width)),s}update_attr(t,e,s){return s=+s,isNaN(s)||t.setAttribute(e,s),t}update_progressbar_position(){this.$bar_progress.setAttribute("x",this.$bar.getX()),this.$bar_progress.setAttribute("width",this.$bar.getWidth()*(this.task.progress/100))}update_label_position(){const t=this.$bar,e=this.group.querySelector(".bar-label");e.getBBox().width>t.getWidth()?(e.classList.add("big"),e.setAttribute("x",t.getX()+t.getWidth()+5)):(e.classList.remove("big"),e.setAttribute("x",t.getX()+t.getWidth()/2))}update_handle_position(){const t=this.$bar;this.handle_group.querySelector(".handle.left").setAttribute("x",t.getX()+1),this.handle_group.querySelector(".handle.right").setAttribute("x",t.getEndX()-9);const e=this.group.querySelector(".handle.progress");e&&e.setAttribute("points",this.get_progress_polygon_points())}update_arrow_position(){this.arrows=this.arrows||[];for(let t of this.arrows)t.update()}}class ct{constructor(t,e,s){this.gantt=t,this.from_task=e,this.to_task=s,this.calculate_path(),this.draw()}calculate_path(){let t=this.from_task.$bar.getX()+this.from_task.$bar.getWidth()/2;const e=()=>this.to_task.$bar.getX()<t+this.gantt.options.padding&&t>this.from_task.$bar.getX()+this.gantt.options.padding;for(;e();)t-=10;const s=this.gantt.options.header_height+this.gantt.options.bar_height+(this.gantt.options.padding+this.gantt.options.bar_height)*this.from_task.task._index+this.gantt.options.padding,i=this.to_task.$bar.getX()-this.gantt.options.padding/2,n=this.gantt.options.header_height+this.gantt.options.bar_height/2+(this.gantt.options.padding+this.gantt.options.bar_height)*this.to_task.task._index+this.gantt.options.padding,a=this.from_task.task._index>this.to_task.task._index,r=this.gantt.options.arrow_curve,o=a?1:0,h=a?-r:r,u=a?n+this.gantt.options.arrow_curve:n-this.gantt.options.arrow_curve;if(this.path=`\n            M ${t} ${s}\n            V ${u}\n            a ${r} ${r} 0 0 ${o} ${r} ${h}\n            L ${i} ${n}\n            m -5 -5\n            l 5 5\n            l -5 5`,this.to_task.$bar.getX()<this.from_task.$bar.getX()+this.gantt.options.padding){const e=this.gantt.options.padding/2-r,a=this.to_task.$bar.getY()+this.to_task.$bar.getHeight()/2-h,u=this.to_task.$bar.getX()-this.gantt.options.padding;this.path=`\n                M ${t} ${s}\n                v ${e}\n                a ${r} ${r} 0 0 1 -${r} ${r}\n                H ${u}\n                a ${r} ${r} 0 0 ${o} -${r} ${h}\n                V ${a}\n                a ${r} ${r} 0 0 ${o} ${r} ${h}\n                L ${i} ${n}\n                m -5 -5\n                l 5 5\n                l -5 5`}}draw(){this.element=ht("path",{d:this.path,"data-from":this.from_task.task.id,"data-to":this.to_task.task.id})}update(){this.calculate_path(),this.element.setAttribute("d",this.path)}}class _t{constructor(t,e){this.parent=t,this.custom_html=e,this.make()}make(){this.parent.innerHTML='\n            <div class="title"></div>\n            <div class="subtitle"></div>\n            <div class="pointer"></div>\n        ',this.hide(),this.title=this.parent.querySelector(".title"),this.subtitle=this.parent.querySelector(".subtitle"),this.pointer=this.parent.querySelector(".pointer")}show(t){if(!t.target_element)throw new Error("target_element is required to show popup");t.position||(t.position="left");const e=t.target_element;if(this.custom_html){let e=this.custom_html(t.task);e+='<div class="pointer"></div>',this.parent.innerHTML=e,this.pointer=this.parent.querySelector(".pointer")}else this.title.innerHTML=t.title,this.subtitle.innerHTML=t.subtitle,this.parent.style.width=this.parent.clientWidth+"px";let s;e instanceof HTMLElement?s=e.getBoundingClientRect():e instanceof SVGElement&&(s=t.target_element.getBBox()),"left"===t.position&&(this.parent.style.left=s.x+(s.width+10)+"px",this.parent.style.top=s.y+"px",this.pointer.style.transform="rotateZ(90deg)",this.pointer.style.left="-7px",this.pointer.style.top="2px"),this.parent.style.opacity=1}hide(){this.parent.style.opacity=0,this.parent.style.left=0}}const ft={QUARTER_DAY:"Quarter Day",HALF_DAY:"Half Day",DAY:"Day",WEEK:"Week",MONTH:"Month",YEAR:"Year"};class pt{constructor(t,e,s){this.date_utils=new at(s),this.setup_wrapper(t),this.setup_options(s),this.setup_tasks(e),this.change_view_mode(),this.bind_events()}setup_wrapper(t){let e,s;if("string"==typeof t&&(t=document.querySelector(t)),t instanceof HTMLElement)s=t,e=t.querySelector("svg");else{if(!(t instanceof SVGElement))throw new TypeError("Frapp Gantt only supports usage of a string CSS selector, HTML DOM element or SVG DOM element for the 'element' parameter");e=t}e?(this.$svg=e,this.$svg.classList.add("gantt")):this.$svg=ht("svg",{append_to:s,class:"gantt"}),this.$container=document.createElement("div"),this.$container.classList.add("gantt-container");this.$svg.parentElement.appendChild(this.$container),this.$container.appendChild(this.$svg),this.popup_wrapper=document.createElement("div"),this.popup_wrapper.classList.add("popup-wrapper"),this.$container.appendChild(this.popup_wrapper)}setup_options(t){const e={header_height:50,column_width:30,step:24,view_modes:[...Object.values(ft)],bar_height:20,bar_corner_radius:3,arrow_curve:5,padding:18,view_mode:"Day",date_format:"YYYY-MM-DD",popup_trigger:"click",language:"en",is_jalali:!1};this.options=Object.assign({},e,t)}setup_tasks(t){this.tasks=t.map(((t,e)=>{if(t._start=this.date_utils.parse(t.start),t._end=this.date_utils.parse(t.end),this.date_utils.diff(t._end,t._start,"year")>10&&(t.end=null),t._index=e,!t.start&&!t.end){const e=this.date_utils.today();t._start=e,t._end=this.date_utils.add(e,2,"day")}!t.start&&t.end&&(t._start=this.date_utils.add(t._end,-2,"day")),t.start&&!t.end&&(t._end=this.date_utils.add(t._start,2,"day"));if(this.date_utils.get_date_values(t._end).slice(3).every((t=>0===t))&&(t._end=this.date_utils.add(t._end,24,"hour")),t.start&&t.end||(t.invalid=!0),"string"==typeof t.dependencies||!t.dependencies){let e=[];t.dependencies&&(e=t.dependencies.split(",").map((t=>t.trim())).filter((t=>t))),t.dependencies=e}return t.id||(t.id=function(t){return t.name+"_"+Math.random().toString(36).slice(2,12)}(t)),t})),this.setup_dependencies()}setup_dependencies(){this.dependency_map={};for(let t of this.tasks)for(let e of t.dependencies)this.dependency_map[e]=this.dependency_map[e]||[],this.dependency_map[e].push(t.id)}refresh(t){this.setup_tasks(t),this.change_view_mode()}change_view_mode(t=this.options.view_mode){this.update_view_scale(t),this.setup_dates(),this.render(),this.trigger_event("view_change",[t])}update_view_scale(t){this.options.view_mode=t,t===ft.DAY?(this.options.step=24,this.options.column_width=38):t===ft.HALF_DAY?(this.options.step=12,this.options.column_width=38):t===ft.QUARTER_DAY?(this.options.step=6,this.options.column_width=38):t===ft.WEEK?(this.options.step=168,this.options.column_width=140):t===ft.MONTH?(this.options.step=720,this.options.column_width=120):t===ft.YEAR&&(this.options.step=8760,this.options.column_width=120)}setup_dates(){this.setup_gantt_dates(),this.setup_date_values()}setup_gantt_dates(){this.gantt_start=this.gantt_end=null;for(let t of this.tasks)(!this.gantt_start||t._start<this.gantt_start)&&(this.gantt_start=t._start),(!this.gantt_end||t._end>this.gantt_end)&&(this.gantt_end=t._end);this.gantt_start=this.date_utils.start_of(this.gantt_start,"day"),this.gantt_end=this.date_utils.start_of(this.gantt_end,"day"),this.view_is([ft.QUARTER_DAY,ft.HALF_DAY])?(this.gantt_start=this.date_utils.add(this.gantt_start,-7,"day"),this.gantt_end=this.date_utils.add(this.gantt_end,7,"day")):this.view_is(ft.MONTH)?(this.gantt_start=this.date_utils.start_of(this.gantt_start,"year"),this.gantt_end=this.date_utils.add(this.gantt_end,1,"year")):this.view_is(ft.YEAR)?(this.gantt_start=this.date_utils.add(this.gantt_start,-2,"year"),this.gantt_end=this.date_utils.add(this.gantt_end,2,"year")):(this.gantt_start=this.date_utils.add(this.gantt_start,-1,"month"),this.gantt_end=this.date_utils.add(this.gantt_end,1,"month"))}setup_date_values(){this.dates=[];let t=null;for(;null===t||t<this.gantt_end;)t=t?this.view_is(ft.YEAR)?this.date_utils.add(t,1,"year"):this.view_is(ft.MONTH)?this.date_utils.add(t,1,"month"):this.date_utils.add(t,this.options.step,"hour"):this.date_utils.clone(this.gantt_start),this.dates.push(t)}bind_events(){this.bind_grid_click(),this.bind_bar_events()}render(){this.clear(),this.setup_layers(),this.make_grid(),this.make_dates(),this.make_bars(),this.make_arrows(),this.map_arrows_on_bars(),this.set_width(),this.set_scroll_position()}setup_layers(){this.layers={};const t=["grid","date","arrow","progress","bar","details"];for(let e of t)this.layers[e]=ht("g",{class:e,append_to:this.$svg})}make_grid(){this.make_grid_background(),this.make_grid_rows(),this.make_grid_header(),this.make_grid_ticks(),this.make_grid_highlights()}make_grid_background(){const t=this.dates.length*this.options.column_width,e=this.options.header_height+this.options.padding+(this.options.bar_height+this.options.padding)*this.tasks.length;ht("rect",{x:0,y:0,width:t,height:e,class:"grid-background",append_to:this.layers.grid}),ot.attr(this.$svg,{height:e+this.options.padding+100,width:"100%"})}make_grid_rows(){const t=ht("g",{append_to:this.layers.grid}),e=ht("g",{append_to:this.layers.grid}),s=this.dates.length*this.options.column_width,i=this.options.bar_height+this.options.padding;let n=this.options.header_height+this.options.padding/2;for(let a of this.tasks)ht("rect",{x:0,y:n,width:s,height:i,class:"grid-row",append_to:t}),ht("line",{x1:0,y1:n+i,x2:s,y2:n+i,class:"row-line",append_to:e}),n+=this.options.bar_height+this.options.padding}make_grid_header(){ht("rect",{x:0,y:0,width:this.dates.length*this.options.column_width,height:this.options.header_height+10,class:"grid-header",append_to:this.layers.grid})}make_grid_ticks(){let t=0,e=this.options.header_height+this.options.padding/2,s=(this.options.bar_height+this.options.padding)*this.tasks.length;for(let i of this.dates){let n="tick";this.view_is(ft.DAY)&&1===i.getDate()&&(n+=" thick"),this.view_is(ft.WEEK)&&i.getDate()>=1&&i.getDate()<8&&(n+=" thick"),this.view_is(ft.MONTH)&&(i.getMonth()+1)%3==0&&(n+=" thick"),ht("path",{d:`M ${t} ${e} v ${s}`,class:n,append_to:this.layers.grid}),this.view_is(ft.MONTH)?t+=this.date_utils.get_days_in_month(i)*this.options.column_width/30:t+=this.options.column_width}}make_grid_highlights(){if(this.view_is(ft.DAY)){ht("rect",{x:this.date_utils.diff(this.date_utils.today(),this.gantt_start,"hour")/this.options.step*this.options.column_width,y:0,width:this.options.column_width,height:(this.options.bar_height+this.options.padding)*this.tasks.length+this.options.header_height+this.options.padding/2,class:"today-highlight",append_to:this.layers.grid})}}make_dates(){for(let t of this.get_dates_to_draw())if(ht("text",{x:t.lower_x,y:t.lower_y,innerHTML:t.lower_text,class:"lower-text",append_to:this.layers.date}),t.upper_text){const e=ht("text",{x:t.upper_x,y:t.upper_y,innerHTML:t.upper_text,class:"upper-text",append_to:this.layers.date});e.getBBox().x2>this.layers.grid.getBBox().width&&e.remove()}}get_dates_to_draw(){let t=null;return this.dates.map(((e,s)=>{const i=this.get_date_info(e,t,s);return t=e,i}))}get_date_info(t,e,s){e||(e=this.date_utils.add(t,1,"year"));const i={"Quarter Day_lower":this.date_utils.format(t,"HH",this.options.language),"Half Day_lower":this.date_utils.format(t,"HH",this.options.language),Day_lower:t.getDate()!==e.getDate()?this.date_utils.format(t,"D",this.options.language):"",Week_lower:t.getMonth()!==e.getMonth()?this.date_utils.format(t,"D MMM",this.options.language):this.date_utils.format(t,"D",this.options.language),Month_lower:this.date_utils.format(t,"MMMM",this.options.language),Year_lower:this.date_utils.format(t,"YYYY",this.options.language),"Quarter Day_upper":t.getDate()!==e.getDate()?this.date_utils.format(t,"D MMM",this.options.language):"","Half Day_upper":t.getDate()!==e.getDate()?t.getMonth()!==e.getMonth()?this.date_utils.format(t,"D MMM",this.options.language):this.date_utils.format(t,"D",this.options.language):"",Day_upper:t.getMonth()!==e.getMonth()?this.date_utils.format(t,"MMMM",this.options.language):"",Week_upper:t.getMonth()!==e.getMonth()?this.date_utils.format(t,"MMMM",this.options.language):"",Month_upper:t.getFullYear()!==e.getFullYear()?this.date_utils.format(t,"YYYY",this.options.language):"",Year_upper:t.getFullYear()!==e.getFullYear()?this.date_utils.format(t,"YYYY",this.options.language):""},n={x:s*this.options.column_width,lower_y:this.options.header_height,upper_y:this.options.header_height-25},a={"Quarter Day_lower":4*this.options.column_width/2,"Quarter Day_upper":0,"Half Day_lower":2*this.options.column_width/2,"Half Day_upper":0,Day_lower:this.options.column_width/2,Day_upper:30*this.options.column_width/2,Week_lower:0,Week_upper:4*this.options.column_width/2,Month_lower:this.options.column_width/2,Month_upper:12*this.options.column_width/2,Year_lower:this.options.column_width/2,Year_upper:30*this.options.column_width/2};return{upper_text:i[`${this.options.view_mode}_upper`],lower_text:i[`${this.options.view_mode}_lower`],upper_x:n.x+a[`${this.options.view_mode}_upper`],upper_y:n.upper_y,lower_x:n.x+a[`${this.options.view_mode}_lower`],lower_y:n.lower_y}}make_bars(){this.bars=this.tasks.map((t=>{const e=new lt(this,t);return this.layers.bar.appendChild(e.group),e}))}make_arrows(){this.arrows=[];for(let t of this.tasks){let e=[];e=t.dependencies.map((e=>{const s=this.get_task(e);if(!s)return;const i=new ct(this,this.bars[s._index],this.bars[t._index]);return this.layers.arrow.appendChild(i.element),i})).filter(Boolean),this.arrows=this.arrows.concat(e)}}map_arrows_on_bars(){for(let t of this.bars)t.arrows=this.arrows.filter((e=>e.from_task.task.id===t.task.id||e.to_task.task.id===t.task.id))}set_width(){const t=this.$svg.getBoundingClientRect().width,e=this.$svg.querySelector(".grid .grid-row").getAttribute("width");t<e&&this.$svg.setAttribute("width",e)}set_scroll_position(){const t=this.$svg.parentElement;if(!t)return;const e=this.date_utils.diff(this.get_oldest_starting_date(),this.gantt_start,"hour")/this.options.step*this.options.column_width-this.options.column_width;t.scrollLeft=e}bind_grid_click(){ot.on(this.$svg,this.options.popup_trigger,".grid-row, .grid-header",(()=>{this.unselect_all(),this.hide_popup()}))}bind_bar_events(){let t=!1,e=0,s=0,i=!1,n=!1,a=null,r=[];this.bar_being_dragged=null,ot.on(this.$svg,"mousedown",".bar-wrapper, .handle",((o,h)=>{const u=ot.closest(".bar-wrapper",h);h.classList.contains("left")?i=!0:h.classList.contains("right")?n=!0:h.classList.contains("bar-wrapper")&&(t=!0),u.classList.add("active"),e=o.offsetX,s=o.offsetY,a=u.getAttribute("data-id");const d=[a,...this.get_all_dependent_tasks(a)];r=d.map((t=>this.get_bar(t))),this.bar_being_dragged=a,r.forEach((t=>{const e=t.$bar;e.ox=e.getX(),e.oy=e.getY(),e.owidth=e.getWidth(),e.finaldx=0}))})),ot.on(this.$svg,"mousemove",(s=>{if(!(t||i||n))return;const o=s.offsetX-e;s.offsetY,r.forEach((e=>{const s=e.$bar;s.finaldx=this.get_snap_position(o),this.hide_popup(),i?a===e.task.id?e.update_bar_position({x:s.ox+s.finaldx,width:s.owidth-s.finaldx}):e.update_bar_position({x:s.ox+s.finaldx}):n?a===e.task.id&&e.update_bar_position({width:s.owidth+s.finaldx}):t&&e.update_bar_position({x:s.ox+s.finaldx})}))})),document.addEventListener("mouseup",(e=>{(t||i||n)&&r.forEach((t=>t.group.classList.remove("active"))),t=!1,i=!1,n=!1})),ot.on(this.$svg,"mouseup",(t=>{this.bar_being_dragged=null,r.forEach((t=>{t.$bar.finaldx&&(t.date_changed(),t.set_action_completed())}))})),this.bind_bar_progress()}bind_bar_progress(){let t=0,e=0,s=null,i=null,n=null,a=null;ot.on(this.$svg,"mousedown",".handle.progress",((r,o)=>{s=!0,t=r.offsetX,e=r.offsetY;const h=ot.closest(".bar-wrapper",o).getAttribute("data-id");i=this.get_bar(h),n=i.$bar_progress,a=i.$bar,n.finaldx=0,n.owidth=n.getWidth(),n.min_dx=-n.getWidth(),n.max_dx=a.getWidth()-n.getWidth()})),ot.on(this.$svg,"mousemove",(e=>{if(!s)return;let a=e.offsetX-t;e.offsetY,a>n.max_dx&&(a=n.max_dx),a<n.min_dx&&(a=n.min_dx);const r=i.$handle_progress;ot.attr(n,"width",n.owidth+a),ot.attr(r,"points",i.get_progress_polygon_points()),n.finaldx=a})),ot.on(this.$svg,"mouseup",(()=>{s=!1,n&&n.finaldx&&(i.progress_changed(),i.set_action_completed())}))}get_all_dependent_tasks(t){let e=[],s=[t];for(;s.length;){const t=s.reduce(((t,e)=>t=t.concat(this.dependency_map[e])),[]);e=e.concat(t),s=t.filter((t=>!s.includes(t)))}return e.filter(Boolean)}get_snap_position(t){let e,s,i=t;return this.view_is(ft.WEEK)?(e=t%(this.options.column_width/7),s=i-e+(e<this.options.column_width/14?0:this.options.column_width/7)):this.view_is(ft.MONTH)?(e=t%(this.options.column_width/30),s=i-e+(e<this.options.column_width/60?0:this.options.column_width/30)):(e=t%this.options.column_width,s=i-e+(e<this.options.column_width/2?0:this.options.column_width)),s}unselect_all(){[...this.$svg.querySelectorAll(".bar-wrapper")].forEach((t=>{t.classList.remove("active")}))}view_is(t){return"string"==typeof t?this.options.view_mode===t:!!Array.isArray(t)&&t.some((t=>this.options.view_mode===t))}get_task(t){return this.tasks.find((e=>e.id===t))}get_bar(t){return this.bars.find((e=>e.task.id===t))}show_popup(t){this.popup||(this.popup=new _t(this.popup_wrapper,this.options.custom_popup_html)),this.popup.show(t)}hide_popup(){this.popup&&this.popup.hide()}trigger_event(t,e){this.options["on_"+t]&&this.options["on_"+t].apply(null,e)}get_oldest_starting_date(){return this.tasks.map((t=>t._start)).reduce(((t,e)=>e<=t?e:t))}clear(){this.$svg.innerHTML=""}}return pt.VIEW_MODE=ft,pt}();
//# sourceMappingURL=frappe-gantt.min.js.map
